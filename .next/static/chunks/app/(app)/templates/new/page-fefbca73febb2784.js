(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5830],{12558:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var l=r(43463),n=r(69795);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,l.$)(t))}},13252:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var l=r(95155),n=r(12115),a=r(76046),s=r(1169),i=r(19393),o=r(43031),d=r(14081),u=r(21956),c=r.n(u),m=r(55037),f=r(34639);let b=c()(()=>r.e(4360).then(r.bind(r,54360)),{loadableGenerated:{webpack:()=>[54360]},ssr:!1}),x=[{label:"SMS",value:"sms"},{label:"Email",value:"email"},{label:"Script",value:"script"}];function p(){let e=(0,a.useRouter)(),[t,r]=(0,n.useState)("sms"),[u,c]=(0,n.useState)(""),[p,h]=(0,n.useState)(""),[g,v]=(0,n.useState)(!1),y=(0,n.useRef)(null),j=p||"Your SMS preview will appear here...",w=async e=>{e.preventDefault(),v(!0);let r=p;if("email"===t&&y.current){y.current.editor.exportHtml(e=>{N(r=e.html)});return}N(r)},N=r=>{f.Ay.templates.create({name:u,content:r,type:t}).then(()=>{m.oR.success("Template created successfully"),e.push("/templates")}).catch(e=>{console.error("Error creating template:",e),m.oR.error("Failed to create template")}).finally(()=>{v(!1)})};return(0,l.jsx)(s.A,{children:(0,l.jsxs)("div",{className:"py-6 max-w-2xl mx-auto",children:[(0,l.jsxs)("div",{className:"mb-6 flex items-center",children:[(0,l.jsx)(d.A,{className:"w-7 h-7 mr-2 text-brand"}),(0,l.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"New Template"})]}),(0,l.jsxs)("form",{onSubmit:w,className:"bg-white shadow rounded-lg p-6 space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,l.jsx)("select",{value:t,onChange:e=>r(e.target.value),className:"border rounded px-3 py-2 w-full",required:!0,children:x.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,l.jsx)(o.p,{value:u,onChange:e=>c(e.target.value),placeholder:"Template name",required:!0})]}),"sms"===t&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SMS Content"}),(0,l.jsx)("textarea",{value:p,onChange:e=>h(e.target.value),placeholder:"Enter SMS message...",rows:5,className:"border rounded px-3 py-2 w-full font-mono",required:!0}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("label",{className:"block text-xs font-semibold text-gray-500 mb-1",children:"Live Preview"}),(0,l.jsxs)("div",{className:"w-64 mx-auto bg-gray-100 rounded-2xl shadow-inner p-4 flex flex-col items-center border border-gray-300",children:[(0,l.jsx)("div",{className:"w-40 h-6 bg-gray-300 rounded-t-xl mb-2"}),(0,l.jsx)("div",{className:"w-full min-h-[60px] bg-white rounded-xl p-3 text-gray-900 text-sm flex items-center justify-center",children:j}),(0,l.jsx)("div",{className:"w-16 h-2 bg-gray-300 rounded-b-xl mt-2"})]})]})]}),"email"===t&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Content"}),(0,l.jsx)("div",{className:"border rounded bg-gray-50 p-2 mb-2",children:(0,l.jsx)(b,{ref:y,minHeight:400})})]}),"script"===t&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Script Content"}),(0,l.jsx)("textarea",{value:p,onChange:e=>h(e.target.value),placeholder:"Enter script content...",rows:8,className:"border rounded px-3 py-2 w-full font-mono",required:!0})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(i.$,{type:"button",variant:"ghost",onClick:()=>e.push("/templates"),children:"Cancel"}),(0,l.jsx)(i.$,{type:"submit",variant:"brand",disabled:g,children:g?"Saving...":"Save Template"})]})]})]})})}},19393:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var l=r(95155),n=r(12115),a=r(31027),s=r(67910);let i=(0,a.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",brand:"bg-brand text-white hover:bg-brand/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,asChild:o=!1,isLoading:d,children:u,disabled:c,...m}=e;return(0,l.jsx)("button",{className:(0,s.cn)(i({variant:n,size:a,className:r})),ref:t,disabled:c||d,...m,children:d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u]}):u})});o.displayName="Button"},21956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let l=r(60306)._(r(30580));function n(e,t){var r;let n={};"function"==typeof e&&(n.loader=e);let a={...n,...t};return(0,l.default)({...a,modules:null==(r=a.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},30580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let l=r(95155),n=r(12115),a=r(39827),s=r(79214);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},r=(0,n.lazy)(()=>t.loader().then(i)),d=t.loading;function u(e){let i=d?(0,l.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,u=o?n.Suspense:n.Fragment,c=t.ssr?(0,l.jsxs)(l.Fragment,{children:["undefined"==typeof window?(0,l.jsx)(s.PreloadChunks,{moduleIds:t.modules}):null,(0,l.jsx)(r,{...e})]}):(0,l.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(r,{...e})});return(0,l.jsx)(u,{...o?{fallback:i}:{},children:c})}return u.displayName="LoadableComponent",u}},39827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let l=r(93719);function n(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw Object.defineProperty(new l.BailoutToCSRError(t),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}},43031:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var l=r(95155),n=r(12115),a=r(12558);let s=n.forwardRef((e,t)=>{let{className:r,type:n,label:s,error:i,...o}=e;return(0,l.jsxs)("div",{className:"w-full",children:[s&&(0,l.jsx)("label",{htmlFor:o.id,className:"block text-sm font-medium text-gray-700 mb-1",children:s}),(0,l.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i?"border-red-500 focus-visible:ring-red-500":"",r),ref:t,...o}),i&&(0,l.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i})]})});s.displayName="Input"},67910:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var l=r(43463),n=r(69795);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,l.$)(t))}},79214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return i}});let l=r(95155),n=r(47650),a=r(75861),s=r(18284);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=a.workAsyncStorage.getStore();if(void 0===r)return null;let i=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files;i.push(...t)}}return 0===i.length?null:(0,l.jsx)(l.Fragment,{children:i.map(e=>{let t=r.assetPrefix+"/_next/"+(0,s.encodeURIPath)(e);return e.endsWith(".css")?(0,l.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,n.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},88298:(e,t,r)=>{Promise.resolve().then(r.bind(r,13252))}},e=>{var t=t=>e(e.s=t);e.O(0,[9272,2376,6514,5037,1169,8441,6587,7358],()=>t(88298)),_N_E=e.O()}]);