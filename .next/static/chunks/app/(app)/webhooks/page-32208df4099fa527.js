(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5190],{12558:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(43463),a=r(69795);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},19393:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(95155),a=r(12115),i=r(31027),n=r(67910);let l=(0,i.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",brand:"bg-brand text-white hover:bg-brand/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,isLoading:o,children:d,disabled:u,...h}=e;return(0,s.jsx)("button",{className:(0,n.cn)(l({variant:a,size:i,className:r})),ref:t,disabled:u||o,...h,children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d]}):d})});c.displayName="Button"},21773:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(67401).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},33473:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(67401).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},52107:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>l,wL:()=>u});var s=r(95155),a=r(12115),i=r(67910);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},60872:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(67401).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},60930:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(95155),a=r(12115),i=r(1169),n=r(19393),l=r(52107),c=r(76046),o=r(55037),d=r(97754),u=r(63669),h=r(33473),x=r(60872);let m=(0,r(67401).A)("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var f=r(21773),p=r(34639);function g(){let e=(0,c.useRouter)(),[t,r]=(0,a.useState)(!0),[g,v]=(0,a.useState)([]),[y,b]=(0,a.useState)({currentPage:1,totalPages:1,totalCount:0}),[j,w]=(0,a.useState)(null),N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(!0);try{let r=await p.Ay.webhooks.list({page:e,limit:10,...t}),s=r.data||r,a=s.webhooks||s||[];v(a),b({currentPage:s.currentPage||e,totalPages:s.totalPages||Math.ceil((s.totalCount||a.length)/10),totalCount:s.totalCount||a.length})}catch(e){console.error("Error fetching webhooks:",e),o.oR.error("Failed to load webhooks")}finally{r(!1)}};(0,a.useEffect)(()=>{N()},[]);let k=async e=>{if(confirm("Are you sure you want to delete this webhook?"))try{await p.Ay.webhooks.delete(e.toString()),o.oR.success("Webhook deleted successfully"),N(y.currentPage)}catch(e){console.error("Error deleting webhook:",e),o.oR.error("Failed to delete webhook")}},C=()=>{e.push("/webhooks/create")},A=t=>{e.push("/webhooks/edit/".concat(t))},P=t=>{e.push("/webhooks/".concat(t))};return(0,s.jsx)(i.A,{children:(0,s.jsxs)("div",{className:"container mx-auto py-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Webhook Management"}),(0,s.jsxs)(n.$,{onClick:C,className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Create Webhook"})]})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Webhooks"}),(0,s.jsx)(l.BT,{children:"Manage webhook endpoints that receive lead data from external systems."})]}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(u.tU,{defaultValue:"all",value:j||"all",onValueChange:e=>{w(e);let t={};"active"===e?t={isActive:!0}:"inactive"===e&&(t={isActive:!1}),N(1,t)},children:(0,s.jsxs)(u.j7,{children:[(0,s.jsx)(u.Xi,{value:"all",children:"All"}),(0,s.jsx)(u.Xi,{value:"active",children:"Active"}),(0,s.jsx)(u.Xi,{value:"inactive",children:"Inactive"})]})})}),t?(0,s.jsx)("div",{className:"text-center py-8",children:"Loading webhooks..."}):0===g.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"No webhooks found"}),(0,s.jsx)(n.$,{onClick:C,variant:"outline",children:"Create Your First Webhook"})]}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Brand / Source"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Endpoint Key"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>P(e.id),children:[(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("div",{className:"text-gray-500 text-sm",children:e.description})]}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,s.jsx)("div",{className:"text-gray-900",children:e.brand}),(0,s.jsx)("div",{className:"text-gray-500 text-sm",children:e.source})]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:e.endpointKey})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)(d.E,{variant:e.isActive?"success":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),A(e.id)},className:"mr-2",children:(0,s.jsx)(x.A,{className:"h-4 w-4"})}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:t=>{t.stopPropagation(),k(e.id)},children:(0,s.jsx)(m,{className:"h-4 w-4"})})]})]},e.id))})]})})]}),(0,s.jsxs)(l.wL,{className:"flex justify-between",children:[(0,s.jsx)("div",{children:!t&&g.length>0&&(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",g.length," of ",y.totalCount," webhooks"]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.$,{variant:"outline",size:"sm",disabled:y.currentPage<=1,onClick:()=>N(y.currentPage-1),children:"Previous"}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",disabled:y.currentPage>=y.totalPages,onClick:()=>N(y.currentPage+1),children:"Next"}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>N(y.currentPage),className:"ml-2",children:(0,s.jsx)(f.A,{className:"h-4 w-4"})})]})]})]})]})})}},63669:(e,t,r)=>{"use strict";r.d(t,{Xi:()=>o,av:()=>d,j7:()=>c,tU:()=>l});var s=r(95155),a=r(12115),i=r(98217),n=r(67910);let l=i.bL,c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.B8,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});c.displayName=i.B8.displayName;let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});o.displayName=i.l9.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(i.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});d.displayName=i.UC.displayName},67910:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(43463),a=r(69795);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},72952:(e,t,r)=>{Promise.resolve().then(r.bind(r,60930))},97754:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var s=r(95155);r(12115);var a=r(31027),i=r(12558);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)(n({variant:r}),t),...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[9272,2376,6514,5037,7295,8217,1169,8441,6587,7358],()=>t(72952)),_N_E=e.O()}]);