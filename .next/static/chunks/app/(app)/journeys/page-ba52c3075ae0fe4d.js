(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2113],{1997:(e,a,s)=>{Promise.resolve().then(s.bind(s,32703))},10705:(e,a,s)=>{"use strict";s.d(a,{Cf:()=>x,Es:()=>u,L3:()=>g,c7:()=>m,lG:()=>d});var t=s(95155),r=s(12115),i=s(66217),l=s(40767),n=s(67910);let d=i.bL;i.l9;let c=i.ZL;i.bm;let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.hJ,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});o.displayName=i.hJ.displayName;let x=r.forwardRef((e,a)=>{let{className:s,children:r,...d}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(o,{}),(0,t.jsxs)(i.UC,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...d,children:[r,(0,t.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(l.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=i.UC.displayName;let m=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};m.displayName="DialogHeader";let u=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};u.displayName="DialogFooter";let g=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});g.displayName=i.hE.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})}).displayName=i.VY.displayName},12558:(e,a,s)=>{"use strict";s.d(a,{cn:()=>i});var t=s(43463),r=s(69795);function i(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}},32703:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>w});var t=s(95155),r=s(12115),i=s(76046),l=s(48173),n=s.n(l),d=s(55037),c=s(33473),o=s(22725),x=s(29191),m=s(92823),u=s(26764),g=s(45686),h=s(1169),p=s(19393),y=s(97754),v=s(10705),j=s(43031),f=s(76631),b=s(32906),N=s(60477),A=s(73746),C=s(85725);function w(){(0,i.useRouter)();let{isAuthenticated:e}=(0,A.n)(),[a,s]=(0,r.useState)([]),[l,w]=(0,r.useState)(!0),[k,D]=(0,r.useState)(!1),[E,J]=(0,r.useState)(!1),[S,$]=(0,r.useState)(!1),[L,T]=(0,r.useState)(null),[F,M]=(0,r.useState)({name:"",description:"",isActive:!0,autoEnroll:!0,leadStatus:[],leadTags:[],brands:[],sources:[],leadAgeDays:{min:void 0,max:void 0}}),[z,R]=(0,r.useState)(""),[K,P]=(0,r.useState)(""),[I,_]=(0,r.useState)(""),[O,G]=(0,r.useState)(""),[U,V]=(0,r.useState)(1),[Q,B]=(0,r.useState)(1),[Y,Z]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&H()},[e,U]);let H=async()=>{try{w(!0);let e=await (0,C.IJ)({page:U,limit:10});s(e.journeys||e),B(e.totalPages||1)}catch(e){console.error("Error fetching journeys:",e),d.Ay.error("Failed to load journeys")}finally{w(!1)}},q=async()=>{try{Z(!0),await (0,C.Z9)({name:F.name,description:F.description,isActive:F.isActive,triggerCriteria:{leadStatus:F.leadStatus,leadTags:F.leadTags,brands:F.brands.length>0?F.brands:void 0,sources:F.sources.length>0?F.sources:void 0,leadAgeDays:void 0!==F.leadAgeDays.min||void 0!==F.leadAgeDays.max?F.leadAgeDays:void 0,autoEnroll:F.autoEnroll}}),d.Ay.success("Journey created successfully"),D(!1),et(),H()}catch(e){console.error("Error creating journey:",e),d.Ay.error("Failed to create journey")}finally{Z(!1)}},W=async()=>{if(L)try{Z(!0),await (0,C.Qf)(L.id,{name:F.name,description:F.description,isActive:F.isActive,triggerCriteria:{leadStatus:F.leadStatus,leadTags:F.leadTags,brands:F.brands.length>0?F.brands:void 0,sources:F.sources.length>0?F.sources:void 0,leadAgeDays:void 0!==F.leadAgeDays.min||void 0!==F.leadAgeDays.max?F.leadAgeDays:void 0,autoEnroll:F.autoEnroll}}),d.Ay.success("Journey updated successfully"),J(!1),et(),H()}catch(e){console.error("Error updating journey:",e),d.Ay.error("Failed to update journey")}finally{Z(!1)}},X=async()=>{if(L)try{Z(!0),await (0,C.sg)(L.id),d.Ay.success("Journey deleted successfully"),$(!1),H()}catch(e){console.error("Error deleting journey:",e),d.Ay.error("Failed to delete journey")}finally{Z(!1)}},ee=async e=>{try{await (0,C.Qf)(e.id,{isActive:!e.isActive}),d.Ay.success("Journey ".concat(e.isActive?"paused":"activated"," successfully")),H()}catch(e){console.error("Error updating journey status:",e),d.Ay.error("Failed to update journey status")}},ea=e=>{var a,s;T(e),M({name:e.name,description:e.description,isActive:e.isActive,autoEnroll:e.triggerCriteria.autoEnroll,leadStatus:e.triggerCriteria.leadStatus||[],leadTags:e.triggerCriteria.leadTags||[],brands:e.triggerCriteria.brands||[],sources:e.triggerCriteria.sources||[],leadAgeDays:{min:null===(a=e.triggerCriteria.leadAgeDays)||void 0===a?void 0:a.min,max:null===(s=e.triggerCriteria.leadAgeDays)||void 0===s?void 0:s.max}}),J(!0)},es=e=>{T(e),$(!0)},et=()=>{M({name:"",description:"",isActive:!0,autoEnroll:!0,leadStatus:[],leadTags:[],brands:[],sources:[],leadAgeDays:{min:void 0,max:void 0}}),R(""),P(""),_(""),G(""),T(null)},er=()=>{z&&!F.leadStatus.includes(z)&&(M({...F,leadStatus:[...F.leadStatus,z]}),R(""))},ei=e=>{M({...F,leadStatus:F.leadStatus.filter(a=>a!==e)})},el=()=>{K&&!F.leadTags.includes(K)&&(M({...F,leadTags:[...F.leadTags,K]}),P(""))},en=e=>{M({...F,leadTags:F.leadTags.filter(a=>a!==e)})},ed=()=>{I&&!F.brands.includes(I)&&(M({...F,brands:[...F.brands,I]}),_(""))},ec=e=>{M({...F,brands:F.brands.filter(a=>a!==e)})},eo=()=>{O&&!F.sources.includes(O)&&(M({...F,sources:[...F.sources,O]}),G(""))},ex=e=>{M({...F,sources:F.sources.filter(a=>a!==e)})};return e?(0,t.jsxs)(h.A,{children:[(0,t.jsxs)("div",{className:"py-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Journeys"}),(0,t.jsxs)(p.$,{onClick:()=>D(!0),children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"New Journey"]})]}),l?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand"})}):0===a.length?(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 text-center",children:[(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"No journeys found"}),(0,t.jsxs)(p.$,{onClick:()=>D(!0),children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Create your first journey"]})]}):(0,t.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Leads"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(0,t.jsx)(n(),{href:"/journeys/".concat(e.id),className:"hover:underline",children:e.name})}),(0,t.jsx)("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:e.description})]})})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)(y.E,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Paused"})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-900",children:[e.activeLeadsCount||0," active"]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.completedLeadsCount||0," completed"]})]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(p.$,{variant:"ghost",size:"icon",onClick:()=>ee(e),title:e.isActive?"Pause journey":"Activate journey",children:e.isActive?(0,t.jsx)(o.A,{className:"h-4 w-4 text-amber-500"}):(0,t.jsx)(x.A,{className:"h-4 w-4 text-green-500"})}),(0,t.jsx)(n(),{href:"/journeys/".concat(e.id,"/leads"),children:(0,t.jsx)(p.$,{variant:"ghost",size:"icon",title:"View enrolled leads",children:(0,t.jsx)(m.A,{className:"h-4 w-4 text-blue-500"})})}),(0,t.jsx)(p.$,{variant:"ghost",size:"icon",onClick:()=>ea(e),title:"Edit journey",children:(0,t.jsx)(u.A,{className:"h-4 w-4 text-gray-500"})}),(0,t.jsx)(p.$,{variant:"ghost",size:"icon",onClick:()=>es(e),title:"Delete journey",children:(0,t.jsx)(g.A,{className:"h-4 w-4 text-red-500"})})]})})]},e.id))})]})}),Q>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,t.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,t.jsx)(p.$,{variant:"secondary",onClick:()=>V(e=>Math.max(e-1,1)),disabled:1===U,children:"Previous"}),(0,t.jsx)(p.$,{variant:"secondary",onClick:()=>V(e=>Math.min(e+1,Q)),disabled:U===Q,children:"Next"})]}),(0,t.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing page ",(0,t.jsx)("span",{className:"font-medium",children:U})," of"," ",(0,t.jsx)("span",{className:"font-medium",children:Q})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,t.jsxs)("button",{onClick:()=>V(e=>Math.max(e-1,1)),disabled:1===U,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,t.jsx)("span",{className:"sr-only",children:"Previous"}),"←"]}),Array.from({length:Q},(e,a)=>a+1).map(e=>(0,t.jsx)("button",{onClick:()=>V(e),className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium ".concat(e===U?"z-10 bg-brand text-white border-brand":"text-gray-500 hover:bg-gray-50"),children:e},e)),(0,t.jsxs)("button",{onClick:()=>V(e=>Math.min(e+1,Q)),disabled:U===Q,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[(0,t.jsx)("span",{className:"sr-only",children:"Next"}),"→"]})]})})]})]})]}),(0,t.jsx)(v.lG,{open:k,onOpenChange:D,children:(0,t.jsxs)(v.Cf,{className:"sm:max-w-md",children:[(0,t.jsx)(v.c7,{children:(0,t.jsx)(v.L3,{children:"Create New Journey"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{htmlFor:"name",children:"Name"}),(0,t.jsx)(j.p,{id:"name",value:F.name,onChange:e=>M({...F,name:e.target.value}),placeholder:"Journey name"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{htmlFor:"description",children:"Description"}),(0,t.jsx)(f.T,{id:"description",value:F.description,onChange:e=>M({...F,description:e.target.value}),placeholder:"Journey description"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.S,{id:"isActive",checked:F.isActive,onCheckedChange:e=>M({...F,isActive:e})}),(0,t.jsx)(N.J,{htmlFor:"isActive",children:"Active"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.S,{id:"autoEnroll",checked:F.autoEnroll,onCheckedChange:e=>M({...F,autoEnroll:e})}),(0,t.jsx)(N.J,{htmlFor:"autoEnroll",children:"Auto-enroll matching leads"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{children:"Lead Status Criteria"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(j.p,{value:z,onChange:e=>R(e.target.value),placeholder:"Add lead status",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),er())}),(0,t.jsx)(p.$,{type:"button",onClick:er,variant:"secondary",children:"Add"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:F.leadStatus.map(e=>(0,t.jsxs)(y.E,{variant:"outline",className:"flex items-center gap-1",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>ei(e),className:"ml-1 text-gray-500 hover:text-gray-700",children:"\xd7"})]},e))})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{children:"Lead Tags Criteria"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(j.p,{value:K,onChange:e=>P(e.target.value),placeholder:"Add lead tag",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),el())}),(0,t.jsx)(p.$,{type:"button",onClick:el,variant:"secondary",children:"Add"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:F.leadTags.map(e=>(0,t.jsxs)(y.E,{variant:"outline",className:"flex items-center gap-1",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>en(e),className:"ml-1 text-gray-500 hover:text-gray-700",children:"\xd7"})]},e))})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{children:"Lead Age Criteria (Days)"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N.J,{htmlFor:"minAge",className:"text-xs",children:"Minimum Age"}),(0,t.jsx)(j.p,{id:"minAge",type:"number",value:void 0!==F.leadAgeDays.min?F.leadAgeDays.min:"",onChange:e=>{let a=e.target.value?parseInt(e.target.value,10):void 0;M({...F,leadAgeDays:{...F.leadAgeDays,min:a}})},placeholder:"Min days",min:0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N.J,{htmlFor:"maxAge",className:"text-xs",children:"Maximum Age"}),(0,t.jsx)(j.p,{id:"maxAge",type:"number",value:void 0!==F.leadAgeDays.max?F.leadAgeDays.max:"",onChange:e=>{let a=e.target.value?parseInt(e.target.value,10):void 0;M({...F,leadAgeDays:{...F.leadAgeDays,max:a}})},placeholder:"Max days",min:0})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{children:"Lead Brand Criteria"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(j.p,{value:I,onChange:e=>_(e.target.value),placeholder:"Add brand",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),ed())}),(0,t.jsx)(p.$,{type:"button",onClick:ed,variant:"secondary",children:"Add"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:F.brands.map(e=>(0,t.jsxs)(y.E,{variant:"outline",className:"flex items-center gap-1",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>ec(e),className:"ml-1 text-gray-500 hover:text-gray-700",children:"\xd7"})]},e))})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{children:"Lead Source Criteria"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(j.p,{value:O,onChange:e=>G(e.target.value),placeholder:"Add source",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),eo())}),(0,t.jsx)(p.$,{type:"button",onClick:eo,variant:"secondary",children:"Add"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:F.sources.map(e=>(0,t.jsxs)(y.E,{variant:"outline",className:"flex items-center gap-1",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>ex(e),className:"ml-1 text-gray-500 hover:text-gray-700",children:"\xd7"})]},e))})]})]}),(0,t.jsxs)(v.Es,{children:[(0,t.jsx)(p.$,{variant:"outline",onClick:()=>{D(!1),et()},children:"Cancel"}),(0,t.jsx)(p.$,{onClick:q,disabled:!F.name||Y,children:Y?"Creating...":"Create Journey"})]})]})}),(0,t.jsx)(v.lG,{open:E,onOpenChange:J,children:(0,t.jsxs)(v.Cf,{className:"sm:max-w-md",children:[(0,t.jsx)(v.c7,{children:(0,t.jsx)(v.L3,{children:"Edit Journey"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{htmlFor:"edit-name",children:"Name"}),(0,t.jsx)(j.p,{id:"edit-name",value:F.name,onChange:e=>M({...F,name:e.target.value}),placeholder:"Journey name"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{htmlFor:"edit-description",children:"Description"}),(0,t.jsx)(f.T,{id:"edit-description",value:F.description,onChange:e=>M({...F,description:e.target.value}),placeholder:"Journey description"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.S,{id:"edit-isActive",checked:F.isActive,onCheckedChange:e=>M({...F,isActive:e})}),(0,t.jsx)(N.J,{htmlFor:"edit-isActive",children:"Active"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.S,{id:"edit-autoEnroll",checked:F.autoEnroll,onCheckedChange:e=>M({...F,autoEnroll:e})}),(0,t.jsx)(N.J,{htmlFor:"edit-autoEnroll",children:"Auto-enroll matching leads"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{children:"Lead Status Criteria"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(j.p,{value:z,onChange:e=>R(e.target.value),placeholder:"Add lead status",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),er())}),(0,t.jsx)(p.$,{type:"button",onClick:er,variant:"secondary",children:"Add"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:F.leadStatus.map(e=>(0,t.jsxs)(y.E,{variant:"outline",className:"flex items-center gap-1",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>ei(e),className:"ml-1 text-gray-500 hover:text-gray-700",children:"\xd7"})]},e))})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{children:"Lead Tags Criteria"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(j.p,{value:K,onChange:e=>P(e.target.value),placeholder:"Add lead tag",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),el())}),(0,t.jsx)(p.$,{type:"button",onClick:el,variant:"secondary",children:"Add"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:F.leadTags.map(e=>(0,t.jsxs)(y.E,{variant:"outline",className:"flex items-center gap-1",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>en(e),className:"ml-1 text-gray-500 hover:text-gray-700",children:"\xd7"})]},e))})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{children:"Lead Age Criteria (Days)"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N.J,{htmlFor:"minAge",className:"text-xs",children:"Minimum Age"}),(0,t.jsx)(j.p,{id:"minAge",type:"number",value:void 0!==F.leadAgeDays.min?F.leadAgeDays.min:"",onChange:e=>{let a=e.target.value?parseInt(e.target.value,10):void 0;M({...F,leadAgeDays:{...F.leadAgeDays,min:a}})},placeholder:"Min days",min:0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N.J,{htmlFor:"maxAge",className:"text-xs",children:"Maximum Age"}),(0,t.jsx)(j.p,{id:"maxAge",type:"number",value:void 0!==F.leadAgeDays.max?F.leadAgeDays.max:"",onChange:e=>{let a=e.target.value?parseInt(e.target.value,10):void 0;M({...F,leadAgeDays:{...F.leadAgeDays,max:a}})},placeholder:"Max days",min:0})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{children:"Lead Brand Criteria"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(j.p,{value:I,onChange:e=>_(e.target.value),placeholder:"Add brand",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),ed())}),(0,t.jsx)(p.$,{type:"button",onClick:ed,variant:"secondary",children:"Add"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:F.brands.map(e=>(0,t.jsxs)(y.E,{variant:"outline",className:"flex items-center gap-1",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>ec(e),className:"ml-1 text-gray-500 hover:text-gray-700",children:"\xd7"})]},e))})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(N.J,{children:"Lead Source Criteria"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(j.p,{value:O,onChange:e=>G(e.target.value),placeholder:"Add source",onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),eo())}),(0,t.jsx)(p.$,{type:"button",onClick:eo,variant:"secondary",children:"Add"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:F.sources.map(e=>(0,t.jsxs)(y.E,{variant:"outline",className:"flex items-center gap-1",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>ex(e),className:"ml-1 text-gray-500 hover:text-gray-700",children:"\xd7"})]},e))})]})]}),(0,t.jsxs)(v.Es,{children:[(0,t.jsx)(p.$,{variant:"outline",onClick:()=>{J(!1),et()},children:"Cancel"}),(0,t.jsx)(p.$,{onClick:W,disabled:!F.name||Y,children:Y?"Updating...":"Update Journey"})]})]})}),(0,t.jsx)(v.lG,{open:S,onOpenChange:$,children:(0,t.jsxs)(v.Cf,{className:"sm:max-w-md",children:[(0,t.jsx)(v.c7,{children:(0,t.jsx)(v.L3,{children:"Delete Journey"})}),(0,t.jsx)("div",{className:"py-4",children:(0,t.jsxs)("p",{className:"text-gray-500",children:['Are you sure you want to delete the journey "',null==L?void 0:L.name,'"? This action cannot be undone.']})}),(0,t.jsxs)(v.Es,{children:[(0,t.jsx)(p.$,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),(0,t.jsx)(p.$,{variant:"destructive",onClick:X,disabled:Y,children:Y?"Deleting...":"Delete Journey"})]})]})})]}):null}},32906:(e,a,s)=>{"use strict";s.d(a,{S:()=>d});var t=s(95155),r=s(12115),i=s(86352),l=s(98867),n=s(67910);let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.bL,{ref:a,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,t.jsx)(i.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})})});d.displayName=i.bL.displayName},43031:(e,a,s)=>{"use strict";s.d(a,{p:()=>l});var t=s(95155),r=s(12115),i=s(12558);let l=r.forwardRef((e,a)=>{let{className:s,type:r,label:l,error:n,...d}=e;return(0,t.jsxs)("div",{className:"w-full",children:[l&&(0,t.jsx)("label",{htmlFor:d.id,className:"block text-sm font-medium text-gray-700 mb-1",children:l}),(0,t.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n?"border-red-500 focus-visible:ring-red-500":"",s),ref:a,...d}),n&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n})]})});l.displayName="Input"},60477:(e,a,s)=>{"use strict";s.d(a,{J:()=>n});var t=s(95155),r=s(12115),i=s(46195),l=s(67910);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.b,{ref:a,className:(0,l.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...r})});n.displayName=i.b.displayName},76631:(e,a,s)=>{"use strict";s.d(a,{T:()=>l});var t=s(95155),r=s(12115),i=s(67910);let l=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...r})});l.displayName="Textarea"},97754:(e,a,s)=>{"use strict";s.d(a,{E:()=>n});var t=s(95155);s(12115);var r=s(31027),i=s(12558);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:a,variant:s,...r}=e;return(0,t.jsx)("div",{className:(0,i.cn)(l({variant:s}),a),...r})}}},e=>{var a=a=>e(e.s=a);e.O(0,[9272,2376,6514,5037,6870,8822,4221,1169,1485,8441,6587,7358],()=>a(1997)),_N_E=e.O()}]);