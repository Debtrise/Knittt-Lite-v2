(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5001],{12558:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var r=t(43463),a=t(69795);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},19393:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var r=t(95155),a=t(12115),l=t(31027),i=t(67910);let n=(0,l.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",brand:"bg-brand text-white hover:bg-brand/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,size:l,asChild:d=!1,isLoading:c,children:o,disabled:m,...u}=e;return(0,r.jsx)("button",{className:(0,i.cn)(n({variant:a,size:l,className:t})),ref:s,disabled:m||c,...u,children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o]}):o})});d.displayName="Button"},20994:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(67401).A)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},23888:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(67401).A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},32495:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(95155),a=t(12115),l=t(76046),i=t(55037),n=t(20994),d=t(23888),c=t(1169),o=t(19393),m=t(43031),u=t(34639),x=t(73746);function h(){let e=(0,l.useRouter)(),{isAuthenticated:s}=(0,x.n)(),[t,h]=(0,a.useState)(!0),[g,p]=(0,a.useState)([]),[y,f]=(0,a.useState)([]),[b,v]=(0,a.useState)(null),[j,N]=(0,a.useState)({url:"",ingroup:"",user:"",pass:""});(0,a.useEffect)(()=>{if(!s){e.push("/login");return}w(),k()},[s,e]);let w=async()=>{try{let e=await u.Ay.system.getModuleStatus();p(e.modules||[])}catch(e){console.error("Error fetching module status:",e),i.Ay.error("Failed to load module status")}},k=async()=>{try{let e=await u.Ay.system.getDialplanCapabilities();f(e.capabilities||[])}catch(e){console.error("Error fetching dialplan capabilities:",e),i.Ay.error("Failed to load dialplan capabilities")}finally{h(!1)}},A=async()=>{if(!j.url||!j.ingroup||!j.user||!j.pass){i.Ay.error("Please fill in all agent configuration fields");return}try{let e=await u.Ay.system.getAgentStatus(j);v(e),i.Ay.success("Agent status checked successfully")}catch(e){console.error("Error checking agent status:",e),i.Ay.error("Failed to check agent status")}};return t?(0,r.jsx)(c.A,{children:(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand"})})}):(0,r.jsx)(c.A,{children:(0,r.jsxs)("div",{className:"py-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"System Status"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Monitor system modules and capabilities"})]}),(0,r.jsx)("div",{className:"bg-white shadow rounded-lg mb-6",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Module Status"}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:g.map(e=>(0,r.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.A,{className:"h-5 w-5 ".concat("active"===e.status?"text-green-500":"text-red-500")}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Version: ",e.version]}),(0,r.jsxs)("p",{className:"text-xs text-gray-400",children:["Last checked: ",new Date(e.lastChecked).toLocaleString()]})]})]})},e.name))})]})}),(0,r.jsx)("div",{className:"bg-white shadow rounded-lg mb-6",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Dialplan Capabilities"}),(0,r.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,r.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]}),(0,r.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(e.enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.enabled?"Enabled":"Disabled"})]}),e.parameters.length>0&&(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("h4",{className:"text-xs font-medium text-gray-500 uppercase",children:"Parameters"}),(0,r.jsx)("div",{className:"mt-2 space-y-2",children:e.parameters.map(e=>(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsx)("span",{className:"font-medium",children:e.name}),(0,r.jsxs)("span",{className:"text-gray-500",children:[" (",e.type,")"]}),e.required&&(0,r.jsx)("span",{className:"ml-1 text-red-500",children:"*"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]},e.name))})]})]},e.name))})]})}),(0,r.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Agent Status Check"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"URL"}),(0,r.jsx)(m.p,{type:"text",value:j.url,onChange:e=>N({...j,url:e.target.value}),placeholder:"Agent URL"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Inbound Group"}),(0,r.jsx)(m.p,{type:"text",value:j.ingroup,onChange:e=>N({...j,ingroup:e.target.value}),placeholder:"Inbound Group"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,r.jsx)(m.p,{type:"text",value:j.user,onChange:e=>N({...j,user:e.target.value}),placeholder:"Username"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsx)(m.p,{type:"password",value:j.pass,onChange:e=>N({...j,pass:e.target.value}),placeholder:"Password"})]})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsxs)(o.$,{variant:"brand",onClick:A,children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Check Status"]})}),b&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Status Response"}),(0,r.jsx)("pre",{className:"text-xs text-gray-500 overflow-x-auto",children:JSON.stringify(b,null,2)})]})]})})]})})}},43031:(e,s,t)=>{"use strict";t.d(s,{p:()=>i});var r=t(95155),a=t(12115),l=t(12558);let i=a.forwardRef((e,s)=>{let{className:t,type:a,label:i,error:n,...d}=e;return(0,r.jsxs)("div",{className:"w-full",children:[i&&(0,r.jsx)("label",{htmlFor:d.id,className:"block text-sm font-medium text-gray-700 mb-1",children:i}),(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n?"border-red-500 focus-visible:ring-red-500":"",t),ref:s,...d}),n&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n})]})});i.displayName="Input"},67910:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var r=t(43463),a=t(69795);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},89701:(e,s,t)=>{Promise.resolve().then(t.bind(t,32495))}},e=>{var s=s=>e(e.s=s);e.O(0,[9272,2376,6514,5037,1169,8441,6587,7358],()=>s(89701)),_N_E=e.O()}]);