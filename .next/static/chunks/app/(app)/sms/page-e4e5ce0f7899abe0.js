(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3457],{12558:(e,s,a)=>{"use strict";a.d(s,{cn:()=>i});var t=a(43463),r=a(69795);function i(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,t.$)(s))}},22725:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(67401).A)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},26764:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(67401).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},28283:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(67401).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},29191:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(67401).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},33473:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(67401).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},36685:(e,s,a)=>{Promise.resolve().then(a.bind(a,58687))},43031:(e,s,a)=>{"use strict";a.d(s,{p:()=>l});var t=a(95155),r=a(12115),i=a(12558);let l=r.forwardRef((e,s)=>{let{className:a,type:r,label:l,error:n,...c}=e;return(0,t.jsxs)("div",{className:"w-full",children:[l&&(0,t.jsx)("label",{htmlFor:c.id,className:"block text-sm font-medium text-gray-700 mb-1",children:l}),(0,t.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n?"border-red-500 focus-visible:ring-red-500":"",a),ref:s,...c}),n&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n})]})});l.displayName="Input"},45686:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(67401).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},52107:(e,s,a)=>{"use strict";a.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>l,aR:()=>n,wL:()=>m});var t=a(95155),r=a(12115),i=a(67910);let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...r})});n.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h3",{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("p",{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent";let m=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",a),...r})});m.displayName="CardFooter"},58687:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>M});var t=a(95155),r=a(12115),i=a(76046),l=a(55037),n=a(63348),c=a(28283),d=a(99271),o=a(92823),m=a(43831),x=a(68236),u=a(33473),h=a(29191),p=a(22725),f=a(26764),g=a(45686),y=a(1169),j=a(19393),b=a(43031),v=a(76631),N=a(88941),w=a(52107),A=a(63669),k=a(97754),S=a(85725),C=a(34639),T=a(73746);function M(){let e=(0,i.useRouter)(),{isAuthenticated:s,user:a}=(0,T.n)(),[M,R]=(0,r.useState)("campaigns"),[E,F]=(0,r.useState)([]),[I,L]=(0,r.useState)(!0),[P,Z]=(0,r.useState)(!1),[q,$]=(0,r.useState)(!1),[B,z]=(0,r.useState)({name:"",messageTemplate:"",rateLimit:60}),[U,D]=(0,r.useState)(!1),[V,W]=(0,r.useState)(!1),[_,X]=(0,r.useState)([]),[H,J]=(0,r.useState)([]),[O,Y]=(0,r.useState)({phoneNumber:"",accountSid:"",authToken:""}),[K,Q]=(0,r.useState)([]),[G,ee]=(0,r.useState)([]),[es,ea]=(0,r.useState)([]),[et,er]=(0,r.useState)(null),[ei,el]=(0,r.useState)({to:"",body:"",templateId:"",from:""}),[en,ec]=(0,r.useState)(!1),[ed,eo]=(0,r.useState)({accountSid:"",authToken:"",defaultFromNumber:"",settings:{},rateLimits:{}}),[em,ex]=(0,r.useState)(!1),[eu,eh]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!s){e.push("/login");return}ep(),ef(),eg(),ey(),ej()},[s,e]);let ep=async()=>{L(!0);try{let e=await (0,S.tw)();F(e.campaigns||[])}catch(e){console.error("Error fetching SMS campaigns:",e),l.Ay.error("Failed to load SMS campaigns"),F([])}finally{L(!1)}},ef=async()=>{try{let e=await (0,S.JA)();X(e||[])}catch(e){console.error("Error fetching Twilio numbers:",e),l.Ay.error("Failed to load Twilio numbers")}},eg=async()=>{try{var e;let s=await C.Ay.sms.listConversations({limit:50});Q((null===(e=s.data)||void 0===e?void 0:e.conversations)||[])}catch(e){console.error("Error fetching conversations:",e),l.Ay.error("Failed to load conversations")}},ey=async()=>{try{var e;let s=await C.Ay.templates.list({type:"sms",isActive:!0,limit:100});ea((null===(e=s.data)||void 0===e?void 0:e.templates)||[])}catch(e){console.error("Error fetching templates:",e),l.Ay.error("Failed to load SMS templates")}},ej=async()=>{try{let e=await C.Ay.sms.getConfig();eo(e.data||{accountSid:"",authToken:"",defaultFromNumber:"",settings:{},rateLimits:{}})}catch(e){console.error("Error fetching Twilio config:",e)}},eb=async e=>{if(e.preventDefault(),!ei.to||!ei.body&&!ei.templateId){l.Ay.error("Please fill in recipient and message or select a template");return}ec(!0);try{ei.templateId?await C.Ay.sms.sendTemplate({to:ei.to,templateId:parseInt(ei.templateId),variables:{},from:ei.from||void 0}):await C.Ay.sms.send({to:ei.to,body:ei.body,from:ei.from||void 0}),l.Ay.success("Message sent successfully"),el({to:"",body:"",templateId:"",from:""}),eg()}catch(e){console.error("Error sending message:",e),l.Ay.error("Failed to send message")}finally{ec(!1)}},ev=async()=>{ex(!0);try{await C.Ay.sms.testConnection(),l.Ay.success("Twilio connection test successful")}catch(e){console.error("Error testing Twilio connection:",e),l.Ay.error("Twilio connection test failed")}finally{ex(!1)}},eN=async()=>{eh(!0);try{await C.Ay.sms.saveConfig(ed),l.Ay.success("Twilio configuration saved successfully")}catch(e){console.error("Error saving Twilio config:",e),l.Ay.error("Failed to save Twilio configuration")}finally{eh(!1)}},ew=async()=>{try{await C.Ay.sms.syncNumbers(),l.Ay.success("Twilio numbers synced successfully"),ef()}catch(e){console.error("Error syncing Twilio numbers:",e),l.Ay.error("Failed to sync Twilio numbers")}},eA=async e=>{if(e.preventDefault(),!B.name||!B.messageTemplate){l.Ay.error("Please fill in all required fields");return}$(!0);try{let e=await (0,S.a4)(B);F([...E,e]),l.Ay.success("Campaign created successfully"),Z(!1),z({name:"",messageTemplate:"",rateLimit:60})}catch(e){console.error("Error creating campaign:",e),l.Ay.error("Failed to create campaign")}finally{$(!1)}},ek=async e=>{if(e.preventDefault(),!O.phoneNumber||!O.accountSid||!O.authToken){l.Ay.error("Please fill in all required fields");return}W(!0);try{let e=await (0,S.xK)(O);X([..._,e]),l.Ay.success("Twilio number added successfully"),D(!1),Y({phoneNumber:"",accountSid:"",authToken:""})}catch(e){console.error("Error adding Twilio number:",e),l.Ay.error("Failed to add Twilio number")}finally{W(!1)}},eS=async e=>{if(window.confirm("Are you sure you want to delete this Twilio number? This might affect active campaigns. Reassign contacts?")){let s=window.confirm("Reassign contacts to another number?");try{let a=await (0,S.Rp)(e,{reassign:s});l.Ay.success(a.message||"Twilio number deleted"),ef()}catch(e){console.error("Error deleting Twilio number:",e),l.Ay.error("Failed to delete Twilio number")}}},eC=async e=>{try{await (0,S.Kl)(e),ep(),l.Ay.success("Campaign started")}catch(e){console.error("Error starting campaign:",e),l.Ay.error("Failed to start campaign")}},eT=async e=>{try{await (0,S.kb)(e),ep(),l.Ay.success("Campaign paused")}catch(e){console.error("Error pausing campaign:",e),l.Ay.error("Failed to pause campaign")}},eM=s=>{e.push("/sms/".concat(s,"/settings"))},eR=e=>e?new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A";return s?(0,t.jsx)(y.A,{children:(0,t.jsxs)("div",{className:"py-6",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-semibold text-gray-900 flex items-center",children:[(0,t.jsx)(n.A,{className:"w-7 h-7 mr-2 text-blue-600"}),"SMS Management"]}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Send messages, manage campaigns, and configure SMS settings"})]})}),(0,t.jsxs)(A.tU,{value:M,onValueChange:R,className:"space-y-6",children:[(0,t.jsxs)(A.j7,{className:"grid w-full grid-cols-5",children:[(0,t.jsxs)(A.Xi,{value:"messaging",className:"flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"w-4 h-4"}),"Send Message"]}),(0,t.jsxs)(A.Xi,{value:"conversations",className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"w-4 h-4"}),"Conversations"]}),(0,t.jsxs)(A.Xi,{value:"campaigns",className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"w-4 h-4"}),"Campaigns"]}),(0,t.jsxs)(A.Xi,{value:"numbers",className:"flex items-center gap-2",children:[(0,t.jsx)(m.A,{className:"w-4 h-4"}),"Phone Numbers"]}),(0,t.jsxs)(A.Xi,{value:"config",className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"w-4 h-4"}),"Configuration"]})]}),(0,t.jsx)(A.av,{value:"messaging",children:(0,t.jsxs)(w.Zp,{children:[(0,t.jsxs)(w.aR,{children:[(0,t.jsx)(w.ZB,{children:"Send SMS Message"}),(0,t.jsx)(w.BT,{children:"Send individual SMS messages or use templates"})]}),(0,t.jsx)(w.Wu,{children:(0,t.jsxs)("form",{onSubmit:eb,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To (Phone Number)"}),(0,t.jsx)(b.p,{value:ei.to,onChange:e=>el(s=>({...s,to:e.target.value})),placeholder:"+1234567890",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Number (Optional)"}),(0,t.jsxs)(N.l6,{value:ei.from||"default",onValueChange:e=>el(s=>({...s,from:"default"===e?"":e})),children:[(0,t.jsx)(N.bq,{children:(0,t.jsx)(N.yv,{placeholder:"Use default number"})}),(0,t.jsxs)(N.gC,{children:[(0,t.jsx)(N.eb,{value:"default",children:"Use default number"}),_.map(e=>(0,t.jsx)(N.eb,{value:e.phoneNumber,children:e.phoneNumber},e.id))]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template (Optional)"}),(0,t.jsxs)(N.l6,{value:ei.templateId||"none",onValueChange:e=>el(s=>({...s,templateId:"none"===e?"":e})),children:[(0,t.jsx)(N.bq,{children:(0,t.jsx)(N.yv,{placeholder:"Select a template or write custom message"})}),(0,t.jsxs)(N.gC,{children:[(0,t.jsx)(N.eb,{value:"none",children:"No template"}),es.map(e=>(0,t.jsx)(N.eb,{value:e.id.toString(),children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),(0,t.jsx)(v.T,{value:ei.body,onChange:e=>el(s=>({...s,body:e.target.value})),placeholder:"Type your message here...",rows:4,disabled:!!ei.templateId}),ei.templateId&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Template selected. Message will be generated from template."})]}),(0,t.jsx)(j.$,{type:"submit",disabled:en,className:"w-full",children:en?"Sending...":"Send Message"})]})})]})}),(0,t.jsx)(A.av,{value:"conversations",children:(0,t.jsxs)(w.Zp,{children:[(0,t.jsxs)(w.aR,{children:[(0,t.jsx)(w.ZB,{children:"SMS Conversations"}),(0,t.jsx)(w.BT,{children:"View and manage SMS conversations with leads"})]}),(0,t.jsx)(w.Wu,{children:0===K.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(d.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No conversations"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Start by sending your first SMS message."})]}):(0,t.jsx)("div",{className:"space-y-4",children:K.map(e=>(0,t.jsx)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>er(e),children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:e.leadName||e.phone}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.phone}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.lastMessage})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)(k.E,{variant:"active"===e.status?"default":"secondary",children:e.status}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:eR(e.lastMessageAt)})]})]})},e.id))})})]})}),(0,t.jsx)(A.av,{value:"campaigns",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"SMS Campaigns"}),(0,t.jsxs)(j.$,{onClick:()=>Z(!P),children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),P&&(0,t.jsxs)(w.Zp,{children:[(0,t.jsxs)(w.aR,{children:[(0,t.jsx)(w.ZB,{children:"Create New Campaign"}),(0,t.jsx)(w.BT,{children:"Set up a new SMS campaign with custom messaging"})]}),(0,t.jsx)(w.Wu,{children:(0,t.jsxs)("form",{onSubmit:eA,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Name"}),(0,t.jsx)(b.p,{value:B.name,onChange:e=>z(s=>({...s,name:e.target.value})),placeholder:"Enter campaign name",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message Template"}),(0,t.jsx)(v.T,{value:B.messageTemplate,onChange:e=>z(s=>({...s,messageTemplate:e.target.value})),placeholder:"Enter your message template...",rows:4,required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate Limit (messages per minute)"}),(0,t.jsx)(b.p,{type:"number",value:B.rateLimit,onChange:e=>z(s=>({...s,rateLimit:parseInt(e.target.value)})),min:"1",max:"1000"})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(j.$,{type:"submit",disabled:q,children:q?"Creating...":"Create Campaign"}),(0,t.jsx)(j.$,{type:"button",variant:"outline",onClick:()=>Z(!1),children:"Cancel"})]})]})})]}),(0,t.jsx)(w.Zp,{children:(0,t.jsx)(w.Wu,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate Limit"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[E.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Created ",eR(e.createdAt)]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)(k.E,{variant:"active"===e.status?"default":"completed"===e.status?"secondary":"paused"===e.status?"outline":"destructive",children:e.status})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.sentCount," / ",e.totalContacts,e.failedCount>0&&(0,t.jsxs)("span",{className:"text-red-600 ml-2",children:["(",e.failedCount," failed)"]})]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.rateLimit,"/min"]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:["draft"===e.status||"paused"===e.status?(0,t.jsxs)(j.$,{size:"sm",onClick:()=>eC(e.id),children:[(0,t.jsx)(h.A,{className:"w-4 h-4 mr-1"}),"Start"]}):"active"===e.status?(0,t.jsxs)(j.$,{size:"sm",variant:"outline",onClick:()=>eT(e.id),children:[(0,t.jsx)(p.A,{className:"w-4 h-4 mr-1"}),"Pause"]}):null,(0,t.jsxs)(j.$,{size:"sm",variant:"outline",onClick:()=>eM(e.id),children:[(0,t.jsx)(f.A,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]},e.id)),0===E.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No campaigns found. Create your first campaign to get started."})})]})]})})})})]})}),(0,t.jsx)(A.av,{value:"numbers",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Twilio Phone Numbers"}),(0,t.jsxs)("div",{className:"space-x-2",children:[(0,t.jsx)(j.$,{variant:"outline",onClick:ew,children:"Sync Numbers"}),(0,t.jsxs)(j.$,{onClick:()=>D(!U),children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Add Number"]})]})]}),U&&(0,t.jsxs)(w.Zp,{children:[(0,t.jsxs)(w.aR,{children:[(0,t.jsx)(w.ZB,{children:"Add Twilio Number"}),(0,t.jsx)(w.BT,{children:"Add a new Twilio phone number for SMS campaigns"})]}),(0,t.jsx)(w.Wu,{children:(0,t.jsxs)("form",{onSubmit:ek,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,t.jsx)(b.p,{value:O.phoneNumber,onChange:e=>Y(s=>({...s,phoneNumber:e.target.value})),placeholder:"+1234567890",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account SID"}),(0,t.jsx)(b.p,{value:O.accountSid,onChange:e=>Y(s=>({...s,accountSid:e.target.value})),placeholder:"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Auth Token"}),(0,t.jsx)(b.p,{type:"password",value:O.authToken,onChange:e=>Y(s=>({...s,authToken:e.target.value})),placeholder:"Your Twilio Auth Token",required:!0})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(j.$,{type:"submit",disabled:V,children:V?"Adding...":"Add Number"}),(0,t.jsx)(j.$,{type:"button",variant:"outline",onClick:()=>D(!1),children:"Cancel"})]})]})})]}),(0,t.jsx)(w.Zp,{children:(0,t.jsx)(w.Wu,{className:"p-0",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Number"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[_.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.phoneNumber})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)(k.E,{variant:"available"===e.status?"default":"secondary",children:"available"===e.status?"Available":"in_use"===e.status?"In Use":"Unavailable"})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.messagesCount||0," messages sent"]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,t.jsxs)(j.$,{size:"sm",variant:"destructive",onClick:()=>eS(e.id),children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},e.id)),0===_.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No phone numbers found. Add your first Twilio number to get started."})})]})]})})})})]})}),(0,t.jsx)(A.av,{value:"config",children:(0,t.jsxs)(w.Zp,{children:[(0,t.jsxs)(w.aR,{children:[(0,t.jsx)(w.ZB,{children:"Twilio Configuration"}),(0,t.jsx)(w.BT,{children:"Configure your Twilio account settings for SMS functionality"})]}),(0,t.jsxs)(w.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account SID"}),(0,t.jsx)(b.p,{value:ed.accountSid,onChange:e=>eo(s=>({...s,accountSid:e.target.value})),placeholder:"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Auth Token"}),(0,t.jsx)(b.p,{type:"password",value:ed.authToken,onChange:e=>eo(s=>({...s,authToken:e.target.value})),placeholder:"Your Twilio Auth Token"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default From Number"}),(0,t.jsx)(b.p,{value:ed.defaultFromNumber,onChange:e=>eo(s=>({...s,defaultFromNumber:e.target.value})),placeholder:"+1234567890"})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(j.$,{onClick:eN,disabled:eu,children:eu?"Saving...":"Save Configuration"}),(0,t.jsx)(j.$,{variant:"outline",onClick:ev,disabled:em,children:em?"Testing...":"Test Connection"})]})]})]})})]})]})}):null}},63348:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(67401).A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},63669:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>n});var t=a(95155),r=a(12115),i=a(98217),l=a(67910);let n=i.bL,c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.B8,{ref:s,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});c.displayName=i.B8.displayName;let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.l9,{ref:s,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});d.displayName=i.l9.displayName;let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.UC,{ref:s,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});o.displayName=i.UC.displayName},76631:(e,s,a)=>{"use strict";a.d(s,{T:()=>l});var t=a(95155),r=a(12115),i=a(67910);let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r})});l.displayName="Textarea"},88941:(e,s,a)=>{"use strict";a.d(s,{bq:()=>x,eb:()=>f,gC:()=>p,l6:()=>o,yv:()=>m});var t=a(95155),r=a(12115),i=a(63409),l=a(51719),n=a(91902),c=a(98867),d=a(12558);let o=i.bL;i.YJ;let m=i.WT,x=r.forwardRef((e,s)=>{let{className:a,children:r,...n}=e;return(0,t.jsxs)(i.l9,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[r,(0,t.jsx)(i.In,{asChild:!0,children:(0,t.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=i.l9.displayName;let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.PP,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})});u.displayName=i.PP.displayName;let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.wn,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})});h.displayName=i.wn.displayName;let p=r.forwardRef((e,s)=>{let{className:a,children:r,position:l="popper",...n}=e;return(0,t.jsx)(i.ZL,{children:(0,t.jsxs)(i.UC,{ref:s,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-800 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...n,children:[(0,t.jsx)(u,{}),(0,t.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(h,{})]})})});p.displayName=i.UC.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.JU,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=i.JU.displayName;let f=r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(i.q7,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-gray-50 focus:bg-gray-100 focus:text-gray-900 data-[state=checked]:bg-gray-100 data-[state=checked]:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(i.VF,{children:(0,t.jsx)(c.A,{className:"h-4 w-4"})})}),(0,t.jsx)(i.p4,{children:r})]})});f.displayName=i.q7.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-gray-200",a),...r})}).displayName=i.wv.displayName},97754:(e,s,a)=>{"use strict";a.d(s,{E:()=>n});var t=a(95155);a(12115);var r=a(31027),i=a(12558);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,i.cn)(l({variant:a}),s),...r})}},99271:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(67401).A)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[9272,2376,6514,5037,7295,6870,9499,8217,1169,1485,8441,6587,7358],()=>s(36685)),_N_E=e.O()}]);