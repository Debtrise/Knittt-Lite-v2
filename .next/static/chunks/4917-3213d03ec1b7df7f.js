"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4917],{12558:(e,a,l)=>{l.d(a,{cn:()=>n});var t=l(43463),s=l(69795);function n(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];return(0,s.QP)((0,t.$)(a))}},17028:(e,a,l)=>{l.d(a,{C:()=>r});var t=l(12115),s=l(88068),n=l(46611),r=e=>{let{present:a,children:l}=e,r=function(e){var a,l;let[s,r]=t.useState(),o=t.useRef(null),d=t.useRef(e),c=t.useRef("none"),[u,p]=(a=e?"mounted":"unmounted",l={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,a)=>{let t=l[e][a];return null!=t?t:e},a));return t.useEffect(()=>{let e=i(o.current);c.current="mounted"===u?e:"none"},[u]),(0,n.N)(()=>{let a=o.current,l=d.current;if(l!==e){let t=c.current,s=i(a);e?p("MOUNT"):"none"===s||(null==a?void 0:a.display)==="none"?p("UNMOUNT"):l&&t!==s?p("ANIMATION_OUT"):p("UNMOUNT"),d.current=e}},[e,p]),(0,n.N)(()=>{if(s){var e;let a;let l=null!==(e=s.ownerDocument.defaultView)&&void 0!==e?e:window,t=e=>{let t=i(o.current).includes(e.animationName);if(e.target===s&&t&&(p("ANIMATION_END"),!d.current)){let e=s.style.animationFillMode;s.style.animationFillMode="forwards",a=l.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=e)})}},n=e=>{e.target===s&&(c.current=i(o.current))};return s.addEventListener("animationstart",n),s.addEventListener("animationcancel",t),s.addEventListener("animationend",t),()=>{l.clearTimeout(a),s.removeEventListener("animationstart",n),s.removeEventListener("animationcancel",t),s.removeEventListener("animationend",t)}}p("ANIMATION_END")},[s,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{o.current=e?getComputedStyle(e):null,r(e)},[])}}(a),o="function"==typeof l?l({present:r.isPresent}):t.Children.only(l),d=(0,s.s)(r.ref,function(e){var a,l;let t=null===(a=Object.getOwnPropertyDescriptor(e.props,"ref"))||void 0===a?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(s=(t=null===(l=Object.getOwnPropertyDescriptor(e,"ref"))||void 0===l?void 0:l.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(o));return"function"==typeof l||r.isPresent?t.cloneElement(o,{ref:d}):null};function i(e){return(null==e?void 0:e.animationName)||"none"}r.displayName="Presence"},19393:(e,a,l)=>{l.d(a,{$:()=>o});var t=l(95155),s=l(12115),n=l(31027),r=l(67910);let i=(0,n.F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",brand:"bg-brand text-white hover:bg-brand/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,a)=>{let{className:l,variant:s,size:n,asChild:o=!1,isLoading:d,children:c,disabled:u,...p}=e;return(0,t.jsx)("button",{className:(0,r.cn)(i({variant:s,size:n,className:l})),ref:a,disabled:u||d,...p,children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c]}):c})});o.displayName="Button"},32906:(e,a,l)=>{l.d(a,{S:()=>o});var t=l(95155),s=l(12115),n=l(86352),r=l(98867),i=l(67910);let o=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)(n.bL,{ref:a,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",l),...s,children:(0,t.jsx)(n.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(r.A,{className:"h-4 w-4"})})})});o.displayName=n.bL.displayName},43031:(e,a,l)=>{l.d(a,{p:()=>r});var t=l(95155),s=l(12115),n=l(12558);let r=s.forwardRef((e,a)=>{let{className:l,type:s,label:r,error:i,...o}=e;return(0,t.jsxs)("div",{className:"w-full",children:[r&&(0,t.jsx)("label",{htmlFor:o.id,className:"block text-sm font-medium text-gray-700 mb-1",children:r}),(0,t.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i?"border-red-500 focus-visible:ring-red-500":"",l),ref:a,...o}),i&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i})]})});r.displayName="Input"},46195:(e,a,l)=>{l.d(a,{b:()=>i});var t=l(12115),s=l(23360),n=l(95155),r=t.forwardRef((e,a)=>(0,n.jsx)(s.sG.label,{...e,ref:a,onMouseDown:a=>{var l;a.target.closest("button, input, select, textarea")||(null===(l=e.onMouseDown)||void 0===l||l.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));r.displayName="Label";var i=r},52107:(e,a,l)=>{l.d(a,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>r,aR:()=>i,wL:()=>u});var t=l(95155),s=l(12115),n=l(67910);let r=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",l),...s})});r.displayName="Card";let i=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",l),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)("h3",{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",l),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",l),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",l),...s})});c.displayName="CardContent";let u=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",l),...s})});u.displayName="CardFooter"},54917:(e,a,l)=>{l.d(a,{A:()=>h});var t=l(95155),s=l(12115),n=l(76046),r=l(19393),i=l(43031),o=l(60477),d=l(32906),c=l(88941),u=l(52107),p=l(34639),m=l(55037);function h(e){let{webhookId:a,isEdit:l=!1,onSuccess:h}=e,x=(0,n.useRouter)(),[v,f]=(0,s.useState)(l),[b,y]=(0,s.useState)(!1),[g,j]=(0,s.useState)([]),[N,w]=(0,s.useState)([]),[k,C]=(0,s.useState)({name:"",description:"",brand:"",source:"",fieldMapping:{phone:"phone",name:"full_name",email:"email_address"},validationRules:{requirePhone:!0,requireName:!1,requireEmail:!1,allowDuplicatePhone:!1},autoTagRules:[{field:"source",operator:"equals",value:"website",tag:"web-lead"}]}),[R,S]=(0,s.useState)([{key:"phone",value:"phone"},{key:"name",value:"full_name"},{key:"email",value:"email_address"}]),[T,_]=(0,s.useState)([]),[q,E]=(0,s.useState)([{field:"source",operator:"equals",value:"website",tag:"web-lead"}]),[A,M]=(0,s.useState)([]),[P,D]=(0,s.useState)({enabled:!1,logicOperator:"AND",conditionSets:[]}),I=[{value:"equals",label:"Equals",dataTypes:["string","number","boolean"]},{value:"not_equals",label:"Not Equals",dataTypes:["string","number","boolean"]},{value:"contains",label:"Contains",dataTypes:["string","array"]},{value:"not_contains",label:"Not Contains",dataTypes:["string","array"]},{value:"starts_with",label:"Starts With",dataTypes:["string"]},{value:"ends_with",label:"Ends With",dataTypes:["string"]},{value:"greater_than",label:"Greater Than",dataTypes:["number","date"]},{value:"less_than",label:"Less Than",dataTypes:["number","date"]},{value:"greater_than_or_equal",label:"Greater Than or Equal",dataTypes:["number","date"]},{value:"less_than_or_equal",label:"Less Than or Equal",dataTypes:["number","date"]},{value:"exists",label:"Exists",dataTypes:["string","number","boolean","array"]},{value:"not_exists",label:"Not Exists",dataTypes:["string","number","boolean","array"]},{value:"is_empty",label:"Is Empty",dataTypes:["string","array"]},{value:"is_not_empty",label:"Is Not Empty",dataTypes:["string","array"]},{value:"regex_match",label:"Regex Match",dataTypes:["string"]}],F=[{value:"create_lead",label:"Create Lead",description:"Create a new lead with custom field mapping"},{value:"update_lead",label:"Update Lead",description:"Update existing leads based on search criteria"},{value:"delete_lead",label:"Delete Lead",description:"Delete existing leads based on search criteria"},{value:"send_notification",label:"Send Notification",description:"Send email/SMS notifications"},{value:"enroll_journey",label:"Enroll Journey",description:"Auto-enroll leads in journeys"},{value:"call_webhook",label:"Call Webhook",description:"Call external webhooks"},{value:"set_tags",label:"Set Tags",description:"Add/remove tags from leads"},{value:"create_task",label:"Create Task",description:"Create tasks and reminders"}],J=async()=>{try{let e=await p.Ay.journeys.list();console.log("Journeys API response:",e);let a=e.data||e,l=a.journeys||a||[];j(l)}catch(e){console.error("Error fetching journeys:",e),m.oR.error("Failed to load journeys")}},O=async()=>{if(a)try{let e=await p.Ay.webhooks.getEvents(a.toString(),{page:1,limit:10}),l=e.data||e,t=l.events||l||[],s=new Set;t.forEach(e=>{e.payload&&"object"==typeof e.payload&&L(e.payload,"",s)});let n=Array.from(s).sort();console.log("Extracted webhook fields:",n),w(n)}catch(e){console.error("Error fetching webhook events:",e)}},L=(e,a,l)=>{Object.keys(e).forEach(t=>{let s=a?"".concat(a,".").concat(t):t;l.add(s),e[t]&&"object"==typeof e[t]&&!Array.isArray(e[t])&&L(e[t],s,l)})},U=async()=>{if(a)try{var e,l,t,s,n,r,i,o,d,c,u,h,x,v,b,y,g;let m=await p.Ay.webhooks.get(a.toString()),f=m.data||m;if(console.log("Fetched webhook data:",f),C({name:f.name||"",description:f.description||"",brand:f.brand||"",source:f.source||"",fieldMapping:{phone:(null===(e=f.fieldMapping)||void 0===e?void 0:e.phone)||"",name:(null===(l=f.fieldMapping)||void 0===l?void 0:l.name)||"",email:(null===(t=f.fieldMapping)||void 0===t?void 0:t.email)||"",address:(null===(s=f.fieldMapping)||void 0===s?void 0:s.address)||"",city:(null===(n=f.fieldMapping)||void 0===n?void 0:n.city)||"",state:(null===(r=f.fieldMapping)||void 0===r?void 0:r.state)||"",zip:(null===(i=f.fieldMapping)||void 0===i?void 0:i.zip)||"",leadValue:(null===(o=f.fieldMapping)||void 0===o?void 0:o.leadValue)||"",notes:(null===(d=f.fieldMapping)||void 0===d?void 0:d.notes)||""},validationRules:{requirePhone:null===(v=null===(c=f.validationRules)||void 0===c?void 0:c.requirePhone)||void 0===v||v,requireName:null!==(b=null===(u=f.validationRules)||void 0===u?void 0:u.requireName)&&void 0!==b&&b,requireEmail:null!==(y=null===(h=f.validationRules)||void 0===h?void 0:h.requireEmail)&&void 0!==y&&y,allowDuplicatePhone:null!==(g=null===(x=f.validationRules)||void 0===x?void 0:x.allowDuplicatePhone)&&void 0!==g&&g},autoTagRules:f.autoTagRules||[],requiredHeaders:f.requiredHeaders||{},autoEnrollJourneyId:f.autoEnrollJourneyId||null,conditionalRules:f.conditionalRules||null}),f.fieldMapping){let e=[{key:"phone",value:f.fieldMapping.phone||"phone"},{key:"name",value:f.fieldMapping.name||"full_name"},{key:"email",value:f.fieldMapping.email||"email_address"}];S(e);let a=Object.entries(f.fieldMapping).filter(e=>{let[a]=e;return!["phone","name","email"].includes(a)}).map(e=>{let[a,l]=e;return{key:a,value:l}});_(a)}if(f.autoTagRules&&E(f.autoTagRules),f.requiredHeaders){let e=Object.entries(f.requiredHeaders).map(e=>{let[a,l]=e;return{key:a,value:l}});M(e)}f.conditionalRules&&D(f.conditionalRules)}catch(e){console.error("Error fetching webhook:",e),m.oR.error("Failed to load webhook")}finally{f(!1)}};(0,s.useEffect)(()=>{J(),l&&a?(U(),O()):f(!1)},[l,a]);let z=e=>{let{name:a,value:l}=e.target;C(e=>({...e,[a]:l}))},W=(e,a)=>{C(l=>({...l,validationRules:{...l.validationRules,[e]:a}}))},B=(e,a,l)=>{let t=[...R];""!==a&&(t[e]={key:a,value:l}),S(t);let s=t.reduce((e,a)=>{let{key:l,value:t}=a;return l&&(e[l]=t),e},{}),n=T.reduce((e,a)=>{let{key:l,value:t}=a;return l&&(e[l]=t),e},{});C(e=>({...e,fieldMapping:{...s,...n}}))},V=(e,a,l)=>{let t=[...T];t[e]={key:a,value:l},_(t);let s=R.reduce((e,a)=>{let{key:l,value:t}=a;return l&&(e[l]=t),e},{}),n=t.reduce((e,a)=>{let{key:l,value:t}=a;return l&&(e[l]=t),e},{});C(e=>({...e,fieldMapping:{...s,...n}}))},$=e=>{let a=[...T];a.splice(e,1),_(a);let l=R.reduce((e,a)=>{let{key:l,value:t}=a;return l&&(e[l]=t),e},{}),t=a.reduce((e,a)=>{let{key:l,value:t}=a;return l&&(e[l]=t),e},{});C(e=>({...e,fieldMapping:{...l,...t}}))},H=(e,a,l)=>{let t=[...q];t[e]={...t[e],[a]:l},E(t),C(e=>({...e,autoTagRules:t}))},Z=e=>{let a=[...q];a.splice(e,1),E(a),C(e=>({...e,autoTagRules:a}))},G=(e,a,l)=>{let t=[...A];t[e]={key:a,value:l},M(t);let s=t.reduce((e,a)=>{let{key:l,value:t}=a;return l&&(e[l]=t),e},{});C(e=>({...e,requiredHeaders:s}))},X=e=>{let a=[...A];a.splice(e,1),M(a);let l=a.reduce((e,a)=>{let{key:l,value:t}=a;return l&&(e[l]=t),e},{});C(e=>({...e,requiredHeaders:l}))},Q=async e=>{if(e.preventDefault(),K()){y(!0);try{let e;let l={...k,autoEnrollJourneyId:""===k.autoEnrollJourneyId?null:k.autoEnrollJourneyId,conditionalRules:P.enabled?P:null};a?(e=await p.Ay.webhooks.update(a,l),m.oR.success("Webhook updated successfully")):(e=await p.Ay.webhooks.create(l),m.oR.success("Webhook created successfully")),h&&h(e.data||e)}catch(e){var l,t;console.error("Error saving webhook:",e),m.oR.error((null===(t=e.response)||void 0===t?void 0:null===(l=t.data)||void 0===l?void 0:l.error)||"Failed to save webhook")}finally{y(!1)}}},K=()=>!0,Y=e=>{D(a=>({...a,conditionSets:a.conditionSets.filter((a,l)=>l!==e)}))},ee=(e,a,l)=>{D(t=>({...t,conditionSets:t.conditionSets.map((t,s)=>s===e?{...t,[a]:l}:t)}))},ea=e=>{D(a=>({...a,conditionSets:a.conditionSets.map((a,l)=>l===e?{...a,conditions:[...a.conditions,{field:"",operator:"equals",value:"",dataType:"string"}]}:a)}))},el=(e,a)=>{D(l=>({...l,conditionSets:l.conditionSets.map((l,t)=>t===e?{...l,conditions:l.conditions.filter((e,l)=>l!==a)}:l)}))},et=(e,a,l,t)=>{D(s=>({...s,conditionSets:s.conditionSets.map((s,n)=>n===e?{...s,conditions:s.conditions.map((e,s)=>s===a?{...e,[l]:t}:e)}:s)}))},es=e=>{D(a=>({...a,conditionSets:a.conditionSets.map((a,l)=>l===e?{...a,actions:[...a.actions,{type:"create_lead",config:{}}]}:a)}))},en=(e,a)=>{D(l=>({...l,conditionSets:l.conditionSets.map((l,t)=>t===e?{...l,actions:l.actions.filter((e,l)=>l!==a)}:l)}))},er=(e,a,l,t)=>{D(s=>({...s,conditionSets:s.conditionSets.map((s,n)=>n===e?{...s,actions:s.actions.map((e,s)=>s===a?"type"===l?{type:t,config:{}}:{...e,[l]:t}:e)}:s)}))},ei=e=>{switch(e){case"create_lead":return[{key:"brand",label:"Brand",type:"text",placeholder:"Override brand"},{key:"source",label:"Source",type:"text",placeholder:"Override source"}];case"update_lead":return[{key:"searchField",label:"Search Field",type:"select",options:[{value:"phone",label:"Phone Number"},{value:"email",label:"Email Address"},{value:"id",label:"Lead ID"}]},{key:"searchValue",label:"Search Value",type:"text",placeholder:"Use {{field}} for dynamic values"},{key:"updateFields",label:"Update Fields",type:"textarea",placeholder:'{"status": "updated", "notes": "Updated via webhook"}'}];case"delete_lead":return[{key:"searchField",label:"Search Field",type:"select",options:[{value:"phone",label:"Phone Number"},{value:"email",label:"Email Address"},{value:"id",label:"Lead ID"},{value:"brand",label:"Brand"},{value:"source",label:"Source"}]},{key:"searchValue",label:"Search Value",type:"text",placeholder:"Use {{field}} for dynamic values from webhook"},{key:"confirmationRequired",label:"Require Confirmation",type:"select",options:[{value:"false",label:"Delete Immediately"},{value:"true",label:"Mark for Deletion (Requires Manual Confirmation)"}]},{key:"reason",label:"Deletion Reason",type:"text",placeholder:"Unsubscribed via webhook"}];case"enroll_journey":return[{key:"journeyId",label:"Journey",type:"select",options:g.map(e=>({value:e.id,label:e.name}))},{key:"priority",label:"Priority",type:"select",options:[{value:"low",label:"Low"},{value:"normal",label:"Normal"},{value:"high",label:"High"},{value:"immediate",label:"Immediate"}]}];case"send_notification":return[{key:"recipients",label:"Recipients",type:"text",placeholder:"email1@example.com,email2@example.com"},{key:"subject",label:"Subject",type:"text",placeholder:"New lead: {{name}}"},{key:"message",label:"Message",type:"textarea",placeholder:"New lead received: {{name}} ({{phone}})"},{key:"type",label:"Type",type:"select",options:[{value:"email",label:"Email"},{value:"sms",label:"SMS"}]}];case"set_tags":return[{key:"operation",label:"Operation",type:"select",options:[{value:"add",label:"Add Tags"},{value:"remove",label:"Remove Tags"}]},{key:"tags",label:"Tags",type:"text",placeholder:"tag1,tag2,tag3"}];case"call_webhook":return[{key:"url",label:"Webhook URL",type:"text",placeholder:"https://api.example.com/webhook"},{key:"method",label:"Method",type:"select",options:[{value:"POST",label:"POST"},{value:"PUT",label:"PUT"},{value:"PATCH",label:"PATCH"}]},{key:"headers",label:"Headers",type:"textarea",placeholder:'{"Authorization": "Bearer token"}'}];case"create_task":return[{key:"title",label:"Task Title",type:"text",placeholder:"Follow up with {{name}}"},{key:"description",label:"Description",type:"textarea",placeholder:"Contact lead about {{subject}}"},{key:"dueDate",label:"Due Date",type:"text",placeholder:"+1d (1 day from now)"},{key:"assignee",label:"Assignee",type:"text",placeholder:"user@example.com"}];default:return[]}};return v?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{children:"Loading webhook data..."})}):(0,t.jsxs)("form",{onSubmit:Q,className:"space-y-6",children:[(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Basic Information"}),(0,t.jsx)(u.BT,{children:"Enter the basic details for your webhook endpoint."})]}),(0,t.jsx)(u.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"name",children:"Name *"}),(0,t.jsx)(i.p,{id:"name",name:"name",value:k.name,onChange:z,placeholder:"CRM Integration",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"description",children:"Description"}),(0,t.jsx)(i.p,{id:"description",name:"description",value:k.description,onChange:z,placeholder:"Receives leads from our CRM system"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"brand",children:"Brand *"}),(0,t.jsx)(i.p,{id:"brand",name:"brand",value:k.brand,onChange:z,placeholder:"Tax Relief",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"source",children:"Source *"}),(0,t.jsx)(i.p,{id:"source",name:"source",value:k.source,onChange:z,placeholder:"CRM",required:!0})]})]})]})})]}),(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Field Mapping"}),(0,t.jsx)(u.BT,{children:"Map fields from the incoming webhook data to lead fields."})]}),(0,t.jsx)(u.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Use dot notation for nested fields (e.g., contact.phoneNumber)"}),R.map((e,a)=>(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center",children:[(0,t.jsx)("div",{className:"md:col-span-1",children:(0,t.jsxs)(o.J,{children:[e.key," *"]})}),(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsx)(i.p,{value:e.value,onChange:l=>B(a,e.key,l.target.value),placeholder:"Path to ".concat(e.key," field in webhook data"),required:!0})})]},a)),T.map((e,a)=>(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center",children:[(0,t.jsx)("div",{className:"md:col-span-1",children:(0,t.jsx)(i.p,{value:e.key,onChange:l=>V(a,l.target.value,e.value),placeholder:"Custom field name"})}),(0,t.jsxs)("div",{className:"md:col-span-2 flex gap-2",children:[(0,t.jsx)(i.p,{value:e.value,onChange:l=>V(a,e.key,l.target.value),placeholder:"Path to field in webhook data"}),(0,t.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>$(a),children:"\xd7"})]})]},"custom-".concat(a))),(0,t.jsx)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{_([...T,{key:"",value:""}])},children:"+ Add Custom Field"})]})})]}),(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Validation Rules"}),(0,t.jsx)(u.BT,{children:"Configure validation rules for incoming webhook data."})]}),(0,t.jsx)(u.Wu,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.S,{id:"requirePhone",checked:k.validationRules.requirePhone,onCheckedChange:e=>W("requirePhone",e)}),(0,t.jsx)(o.J,{htmlFor:"requirePhone",children:"Require phone number"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.S,{id:"requireName",checked:k.validationRules.requireName,onCheckedChange:e=>W("requireName",e)}),(0,t.jsx)(o.J,{htmlFor:"requireName",children:"Require name"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.S,{id:"requireEmail",checked:k.validationRules.requireEmail,onCheckedChange:e=>W("requireEmail",e)}),(0,t.jsx)(o.J,{htmlFor:"requireEmail",children:"Require email"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.S,{id:"allowDuplicatePhone",checked:k.validationRules.allowDuplicatePhone,onCheckedChange:e=>W("allowDuplicatePhone",e)}),(0,t.jsx)(o.J,{htmlFor:"allowDuplicatePhone",children:"Allow duplicate phone numbers"})]})]})})]}),(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Auto-Tag Rules"}),(0,t.jsx)(u.BT,{children:"Automatically add tags to leads based on webhook data."})]}),(0,t.jsxs)(u.Wu,{className:"space-y-4",children:[q.map((e,a)=>(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center",children:[(0,t.jsxs)("div",{className:"space-y-2 md:col-span-1",children:[(0,t.jsx)(o.J,{children:"Field"}),(0,t.jsx)(i.p,{value:e.field,onChange:e=>H(a,"field",e.target.value),placeholder:"source"})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-1",children:[(0,t.jsx)(o.J,{children:"Operator"}),(0,t.jsxs)("select",{value:e.operator,onChange:e=>H(a,"operator",e.target.value),className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm text-gray-900",children:[(0,t.jsx)("option",{value:"equals",children:"equals"}),(0,t.jsx)("option",{value:"contains",children:"contains"}),(0,t.jsx)("option",{value:"exists",children:"exists"})]})]}),"exists"!==e.operator&&(0,t.jsxs)("div",{className:"space-y-2 md:col-span-1",children:[(0,t.jsx)(o.J,{children:"Value"}),(0,t.jsx)(i.p,{value:e.value||"",onChange:e=>H(a,"value",e.target.value),placeholder:"website"})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-1",children:[(0,t.jsx)(o.J,{children:"Tag"}),(0,t.jsx)(i.p,{value:e.tag,onChange:e=>H(a,"tag",e.target.value),placeholder:"web-lead"})]}),(0,t.jsx)("div",{className:"flex items-end md:col-span-1",children:(0,t.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>Z(a),children:"\xd7"})})]},a)),(0,t.jsx)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{E([...q,{field:"",operator:"equals",value:"",tag:""}])},children:"+ Add Tag Rule"})]})]}),(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Advanced Settings"}),(0,t.jsx)(u.BT,{children:"Configure security and additional options for your webhook."})]}),(0,t.jsxs)(u.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.J,{htmlFor:"autoEnrollJourneyId",children:"Auto-Enroll Journey"}),(0,t.jsxs)(c.l6,{value:k.autoEnrollJourneyId?k.autoEnrollJourneyId.toString():"none",onValueChange:e=>{C(a=>({...a,autoEnrollJourneyId:"none"===e?null:parseInt(e,10)}))},children:[(0,t.jsx)(c.bq,{className:"w-full",children:(0,t.jsx)(c.yv,{placeholder:"Select a journey (optional)"})}),(0,t.jsxs)(c.gC,{children:[(0,t.jsx)(c.eb,{value:"none",children:"None - No auto-enrollment"}),g.map(e=>(0,t.jsxs)(c.eb,{value:e.id.toString(),children:[e.name," ",!e.isActive&&"(Inactive)"]},e.id))]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"If selected, leads created from this webhook will be automatically enrolled in the specified journey."})]}),(0,t.jsxs)("div",{className:"space-y-2 pt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)(o.J,{children:"Required Headers"}),(0,t.jsx)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{M([...A,{key:"",value:""}])},children:"+ Add Header"})]}),A.map((e,a)=>(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-center",children:[(0,t.jsx)("div",{className:"md:col-span-1",children:(0,t.jsx)(i.p,{value:e.key,onChange:l=>G(a,l.target.value,e.value),placeholder:"Header name (e.g., X-API-Version)"})}),(0,t.jsxs)("div",{className:"md:col-span-2 flex gap-2",children:[(0,t.jsx)(i.p,{value:e.value,onChange:l=>G(a,e.key,l.target.value),placeholder:"Required value"}),(0,t.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>X(a),children:"\xd7"})]})]},a))]})]})]}),(0,t.jsxs)(u.Zp,{children:[(0,t.jsxs)(u.aR,{children:[(0,t.jsx)(u.ZB,{children:"Conditional Rules & Actions"}),(0,t.jsx)(u.BT,{children:"Set up advanced conditional logic to automatically execute actions when specific conditions are met."})]}),(0,t.jsxs)(u.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(d.S,{id:"enableConditionalRules",checked:P.enabled,onCheckedChange:e=>D(a=>({...a,enabled:e}))}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{htmlFor:"enableConditionalRules",className:"text-base font-medium",children:"Enable Conditional Processing"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"When enabled, webhook data will be processed through conditional rules before creating leads"})]})]}),P.enabled&&(0,t.jsxs)("div",{className:"space-y-6 border-t pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Logic Operator"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"How condition sets should be evaluated"})]}),(0,t.jsxs)(c.l6,{value:P.logicOperator,onValueChange:e=>D(a=>({...a,logicOperator:e})),children:[(0,t.jsx)(c.bq,{className:"w-32",children:(0,t.jsx)(c.yv,{})}),(0,t.jsxs)(c.gC,{children:[(0,t.jsx)(c.eb,{value:"AND",children:"AND"}),(0,t.jsx)(c.eb,{value:"OR",children:"OR"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Condition Sets"}),(0,t.jsx)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{D(e=>({...e,conditionSets:[...e.conditionSets,{name:"Condition Set ".concat(e.conditionSets.length+1),conditions:[{field:"",operator:"equals",value:"",dataType:"string"}],actions:[]}]}))},children:"+ Add Condition Set"})]}),P.conditionSets.map((e,s)=>(0,t.jsxs)(u.Zp,{className:"border-2 border-dashed",children:[(0,t.jsx)(u.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(i.p,{value:e.name,onChange:e=>ee(s,"name",e.target.value),placeholder:"Condition Set Name",className:"max-w-md"}),(0,t.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>Y(s),children:"Remove Set"})]})}),(0,t.jsxs)(u.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("h5",{className:"text-sm font-medium",children:"Conditions"}),N.length>0&&(0,t.jsxs)("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:[N.length," fields available"]}),l&&a&&(0,t.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:O,className:"text-xs px-2 py-1 h-6",title:"Refresh available fields from recent webhook events",children:"↻"})]}),(0,t.jsx)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>ea(s),children:"+ Add Condition"})]}),N.length>0&&(0,t.jsx)("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-xs text-blue-700",children:"\uD83D\uDCA1 Field names are populated from recent webhook data. Select from dropdown or enter custom field names."})}),e.conditions.map((e,a)=>(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-center mb-2 p-3 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"col-span-3",children:N.length>0?(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)(c.l6,{value:N.includes(e.field)?e.field:"__manual__",onValueChange:e=>{"__manual__"===e?et(s,a,"field",""):et(s,a,"field",e)},children:[(0,t.jsx)(c.bq,{children:(0,t.jsx)(c.yv,{placeholder:"Select field from webhook data"})}),(0,t.jsxs)(c.gC,{className:"max-h-48 overflow-y-auto",children:[(0,t.jsx)(c.eb,{value:"__manual__",children:(0,t.jsx)("span",{className:"text-gray-500",children:"Manual entry..."})}),N.map(e=>(0,t.jsx)(c.eb,{value:e,children:(0,t.jsx)("code",{className:"text-xs bg-gray-100 px-1 rounded",children:e})},e))]})]}),!N.includes(e.field)&&(0,t.jsx)(i.p,{placeholder:"Enter custom field name",value:e.field,onChange:e=>et(s,a,"field",e.target.value)})]}):(0,t.jsx)(i.p,{placeholder:"Field (e.g., budget)",value:e.field,onChange:e=>et(s,a,"field",e.target.value)})}),(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsxs)(c.l6,{value:e.dataType,onValueChange:e=>et(s,a,"dataType",e),children:[(0,t.jsx)(c.bq,{children:(0,t.jsx)(c.yv,{})}),(0,t.jsxs)(c.gC,{children:[(0,t.jsx)(c.eb,{value:"string",children:"String"}),(0,t.jsx)(c.eb,{value:"number",children:"Number"}),(0,t.jsx)(c.eb,{value:"boolean",children:"Boolean"}),(0,t.jsx)(c.eb,{value:"date",children:"Date"}),(0,t.jsx)(c.eb,{value:"array",children:"Array"})]})]})}),(0,t.jsx)("div",{className:"col-span-2",children:(0,t.jsxs)(c.l6,{value:e.operator,onValueChange:e=>et(s,a,"operator",e),children:[(0,t.jsx)(c.bq,{children:(0,t.jsx)(c.yv,{})}),(0,t.jsx)(c.gC,{children:I.filter(a=>a.dataTypes.includes(e.dataType)).map(e=>(0,t.jsx)(c.eb,{value:e.value,children:e.label},e.value))})]})}),(0,t.jsx)("div",{className:"col-span-4",children:["exists","not_exists","is_empty","is_not_empty"].includes(e.operator)?(0,t.jsx)("div",{className:"text-sm text-gray-500 italic",children:"No value required"}):(0,t.jsx)(i.p,{placeholder:"Value",value:e.value,onChange:l=>{let t=l.target.value;"number"===e.dataType?t=""===t?"":Number(t):"boolean"===e.dataType&&(t="true"===t),et(s,a,"value",t)}})}),(0,t.jsx)("div",{className:"col-span-1",children:(0,t.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>el(s,a),children:"\xd7"})})]},a))]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h5",{className:"text-sm font-medium",children:"Actions"}),(0,t.jsx)(r.$,{type:"button",variant:"outline",size:"sm",onClick:()=>es(s),children:"+ Add Action"})]}),e.actions.map((e,a)=>{var l;return(0,t.jsxs)("div",{className:"border rounded-lg p-4 space-y-3 ".concat("delete_lead"===e.type?"bg-red-50 border-red-200":"bg-blue-50"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(c.l6,{value:e.type,onValueChange:e=>er(s,a,"type",e),children:[(0,t.jsx)(c.bq,{className:"max-w-xs",children:(0,t.jsx)(c.yv,{})}),(0,t.jsx)(c.gC,{children:F.map(e=>(0,t.jsx)(c.eb,{value:e.value,children:e.label},e.value))})]}),(0,t.jsx)(r.$,{type:"button",variant:"ghost",size:"sm",onClick:()=>en(s,a),children:"Remove Action"})]}),"delete_lead"===e.type&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-red-100 border border-red-300 rounded",children:[(0,t.jsx)("span",{className:"text-red-600 font-bold",children:"⚠️"}),(0,t.jsx)("span",{className:"text-xs text-red-700 font-medium",children:"WARNING: This action will permanently delete leads from your system. Use with caution."})]}),(0,t.jsx)("div",{className:"text-xs ".concat("delete_lead"===e.type?"text-red-600":"text-gray-600"),children:null===(l=F.find(a=>a.value===e.type))||void 0===l?void 0:l.description}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:ei(e.type).map(l=>{var n;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(o.J,{className:"text-xs",children:l.label}),"select"===l.type?(0,t.jsxs)(c.l6,{value:e.config[l.key]||"",onValueChange:t=>{er(s,a,"config",{...e.config,[l.key]:t})},children:[(0,t.jsx)(c.bq,{children:(0,t.jsx)(c.yv,{placeholder:"Select ".concat(l.label)})}),(0,t.jsx)(c.gC,{children:null===(n=l.options)||void 0===n?void 0:n.map(e=>(0,t.jsx)(c.eb,{value:e.value.toString(),children:e.label},e.value))})]}):"textarea"===l.type?(0,t.jsx)("textarea",{className:"w-full p-2 text-xs border rounded resize-none",rows:2,placeholder:l.placeholder,value:e.config[l.key]||"",onChange:t=>{er(s,a,"config",{...e.config,[l.key]:t.target.value})}}):(0,t.jsx)(i.p,{className:"text-xs",placeholder:l.placeholder,value:e.config[l.key]||"",onChange:t=>{er(s,a,"config",{...e.config,[l.key]:t.target.value})}})]},l.key)})})]},a)})]})]})]},s)),0===P.conditionSets.length&&(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)("p",{children:"No condition sets configured"}),(0,t.jsx)("p",{className:"text-sm",children:"Add a condition set to start creating conditional rules"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,t.jsx)(r.$,{type:"button",variant:"outline",onClick:()=>x.push("/webhooks"),disabled:b,children:"Cancel"}),(0,t.jsx)(r.$,{type:"submit",disabled:b,children:b?"Saving...":l?"Update Webhook":"Create Webhook"})]})]})}},60477:(e,a,l)=>{l.d(a,{J:()=>i});var t=l(95155),s=l(12115),n=l(46195),r=l(67910);let i=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)(n.b,{ref:a,className:(0,r.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",l),...s})});i.displayName=n.b.displayName},67910:(e,a,l)=>{l.d(a,{cn:()=>n});var t=l(43463),s=l(69795);function n(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];return(0,s.QP)((0,t.$)(a))}},86352:(e,a,l)=>{l.d(a,{C1:()=>w,bL:()=>j});var t=l(12115),s=l(88068),n=l(18166),r=l(93610),i=l(1488),o=l(50858),d=l(7510),c=l(17028),u=l(23360),p=l(95155),m="Checkbox",[h,x]=(0,n.A)(m),[v,f]=h(m);function b(e){let{__scopeCheckbox:a,checked:l,children:s,defaultChecked:n,disabled:r,form:o,name:d,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:x}=e,[f,b]=(0,i.i)({prop:l,defaultProp:null!=n&&n,onChange:c,caller:m}),[y,g]=t.useState(null),[j,N]=t.useState(null),w=t.useRef(!1),k=!y||!!o||!!y.closest("form"),C={checked:f,disabled:r,setChecked:b,control:y,setControl:g,name:d,form:o,value:h,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:!R(n)&&n,isFormControl:k,bubbleInput:j,setBubbleInput:N};return(0,p.jsx)(v,{scope:a,...C,children:"function"==typeof x?x(C):s})}var y="CheckboxTrigger",g=t.forwardRef((e,a)=>{let{__scopeCheckbox:l,onKeyDown:n,onClick:i,...o}=e,{control:d,value:c,disabled:m,checked:h,required:x,setControl:v,setChecked:b,hasConsumerStoppedPropagationRef:g,isFormControl:j,bubbleInput:N}=f(y,l),w=(0,s.s)(a,v),k=t.useRef(h);return t.useEffect(()=>{let e=null==d?void 0:d.form;if(e){let a=()=>b(k.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[d,b]),(0,p.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":R(h)?"mixed":h,"aria-required":x,"data-state":S(h),"data-disabled":m?"":void 0,disabled:m,value:c,...o,ref:w,onKeyDown:(0,r.m)(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,r.m)(i,e=>{b(e=>!!R(e)||!e),N&&j&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});g.displayName=y;var j=t.forwardRef((e,a)=>{let{__scopeCheckbox:l,name:t,checked:s,defaultChecked:n,required:r,disabled:i,value:o,onCheckedChange:d,form:c,...u}=e;return(0,p.jsx)(b,{__scopeCheckbox:l,checked:s,defaultChecked:n,disabled:i,required:r,onCheckedChange:d,name:t,form:c,value:o,internal_do_not_use_render:e=>{let{isFormControl:t}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(g,{...u,ref:a,__scopeCheckbox:l}),t&&(0,p.jsx)(C,{__scopeCheckbox:l})]})}})});j.displayName=m;var N="CheckboxIndicator",w=t.forwardRef((e,a)=>{let{__scopeCheckbox:l,forceMount:t,...s}=e,n=f(N,l);return(0,p.jsx)(c.C,{present:t||R(n.checked)||!0===n.checked,children:(0,p.jsx)(u.sG.span,{"data-state":S(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:a,style:{pointerEvents:"none",...e.style}})})});w.displayName=N;var k="CheckboxBubbleInput",C=t.forwardRef((e,a)=>{let{__scopeCheckbox:l,...n}=e,{control:r,hasConsumerStoppedPropagationRef:i,checked:c,defaultChecked:m,required:h,disabled:x,name:v,value:b,form:y,bubbleInput:g,setBubbleInput:j}=f(k,l),N=(0,s.s)(a,j),w=(0,o.Z)(c),C=(0,d.X)(r);t.useEffect(()=>{if(!g)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,a=!i.current;if(w!==c&&e){let l=new Event("click",{bubbles:a});g.indeterminate=R(c),e.call(g,!R(c)&&c),g.dispatchEvent(l)}},[g,w,c,i]);let S=t.useRef(!R(c)&&c);return(0,p.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=m?m:S.current,required:h,disabled:x,name:v,value:b,form:y,...n,tabIndex:-1,ref:N,style:{...n.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function R(e){return"indeterminate"===e}function S(e){return R(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=k},88941:(e,a,l)=>{l.d(a,{bq:()=>p,eb:()=>v,gC:()=>x,l6:()=>c,yv:()=>u});var t=l(95155),s=l(12115),n=l(63409),r=l(51719),i=l(91902),o=l(98867),d=l(12558);let c=n.bL;n.YJ;let u=n.WT,p=s.forwardRef((e,a)=>{let{className:l,children:s,...i}=e;return(0,t.jsxs)(n.l9,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",l),...i,children:[s,(0,t.jsx)(n.In,{asChild:!0,children:(0,t.jsx)(r.A,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=n.l9.displayName;let m=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)(n.PP,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",l),...s,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});m.displayName=n.PP.displayName;let h=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)(n.wn,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",l),...s,children:(0,t.jsx)(r.A,{className:"h-4 w-4"})})});h.displayName=n.wn.displayName;let x=s.forwardRef((e,a)=>{let{className:l,children:s,position:r="popper",...i}=e;return(0,t.jsx)(n.ZL,{children:(0,t.jsxs)(n.UC,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-800 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",l),position:r,...i,children:[(0,t.jsx)(m,{}),(0,t.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,t.jsx)(h,{})]})})});x.displayName=n.UC.displayName,s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)(n.JU,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",l),...s})}).displayName=n.JU.displayName;let v=s.forwardRef((e,a)=>{let{className:l,children:s,...r}=e;return(0,t.jsxs)(n.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-gray-50 focus:bg-gray-100 focus:text-gray-900 data-[state=checked]:bg-gray-100 data-[state=checked]:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(n.VF,{children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})}),(0,t.jsx)(n.p4,{children:s})]})});v.displayName=n.q7.displayName,s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)(n.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-gray-200",l),...s})}).displayName=n.wv.displayName}}]);