"use strict";exports.id=4883,exports.ids=[4883],exports.modules={4339:(e,a,r)=>{r.d(a,{A:()=>t});let t=(0,r(41680).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},4643:(e,a,r)=>{r.d(a,{A:()=>t});let t=(0,r(41680).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7702:(e,a,r)=>{r.d(a,{cn:()=>l});var t=r(82281),s=r(94805);function l(...e){return(0,s.QP)((0,t.$)(e))}},19473:(e,a,r)=>{r.d(a,{A:()=>t});let t=(0,r(41680).A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},49169:(e,a,r)=>{r.d(a,{p:()=>d});var t=r(45512),s=r(58009),l=r(7702);let d=s.forwardRef(({className:e,type:a,label:r,error:s,...d},i)=>(0,t.jsxs)("div",{className:"w-full",children:[r&&(0,t.jsx)("label",{htmlFor:d.id,className:"block text-sm font-medium text-gray-700 mb-1",children:r}),(0,t.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s?"border-red-500 focus-visible:ring-red-500":"",e),ref:i,...d}),s&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s})]}));d.displayName="Input"},63451:(e,a,r)=>{r.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>n,Zp:()=>d,aR:()=>i,wL:()=>m});var t=r(45512),s=r(58009),l=r(89808);let d=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));d.displayName="Card";let i=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let n=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("h3",{ref:r,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));n.displayName="CardTitle";let o=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("p",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",e),...a}));o.displayName="CardDescription";let c=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent";let m=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a}));m.displayName="CardFooter"},73388:(e,a,r)=>{r.d(a,{A:()=>t});let t=(0,r(41680).A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]])},75749:(e,a,r)=>{r.d(a,{bq:()=>u,eb:()=>y,gC:()=>x,l6:()=>c,yv:()=>m});var t=r(45512),s=r(58009),l=r(81477),d=r(98755),i=r(28638),n=r(24849),o=r(7702);let c=l.bL;l.YJ;let m=l.WT,u=s.forwardRef(({className:e,children:a,...r},s)=>(0,t.jsxs)(l.l9,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[a,(0,t.jsx)(l.In,{asChild:!0,children:(0,t.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=l.l9.displayName;let f=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)(l.PP,{ref:r,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})}));f.displayName=l.PP.displayName;let p=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)(l.wn,{ref:r,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...a,children:(0,t.jsx)(d.A,{className:"h-4 w-4"})}));p.displayName=l.wn.displayName;let x=s.forwardRef(({className:e,children:a,position:r="popper",...s},d)=>(0,t.jsx)(l.ZL,{children:(0,t.jsxs)(l.UC,{ref:d,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-800 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[(0,t.jsx)(f,{}),(0,t.jsx)(l.LM,{className:(0,o.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,t.jsx)(p,{})]})}));x.displayName=l.UC.displayName,s.forwardRef(({className:e,...a},r)=>(0,t.jsx)(l.JU,{ref:r,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=l.JU.displayName;let y=s.forwardRef(({className:e,children:a,...r},s)=>(0,t.jsxs)(l.q7,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-gray-50 focus:bg-gray-100 focus:text-gray-900 data-[state=checked]:bg-gray-100 data-[state=checked]:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})}),(0,t.jsx)(l.p4,{children:a})]}));y.displayName=l.q7.displayName,s.forwardRef(({className:e,...a},r)=>(0,t.jsx)(l.wv,{ref:r,className:(0,o.cn)("-mx-1 my-1 h-px bg-gray-200",e),...a})).displayName=l.wv.displayName},81259:(e,a,r)=>{r.d(a,{A:()=>t});let t=(0,r(41680).A)("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},83083:(e,a,r)=>{r.d(a,{T:()=>d});var t=r(45512),s=r(58009),l=r(89808);let d=s.forwardRef(({className:e,...a},r)=>(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...a}));d.displayName="Textarea"},86941:(e,a,r)=>{r.d(a,{A:()=>f});var t=r(45512),s=r(58009),l=r(43517),d=r(81259),i=r(4339);let n=(0,r(41680).A)("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);var o=r(73388),c=r(19473),m=r(67679),u=r(91542);function f({recordingId:e,recordingName:a,audioUrl:r,onPlayStateChange:f}){let[p,x]=(0,s.useState)(!1),[y,g]=(0,s.useState)(!1),[h,b]=(0,s.useState)(null),[w,N]=(0,s.useState)(0),[v,j]=(0,s.useState)(0),[k,R]=(0,s.useState)(1),[A,C]=(0,s.useState)(!1),[S,L]=(0,s.useState)(null),z=(0,s.useRef)(null),F=async()=>{if(z.current)try{g(!0);let a=r,t=!1;if(h?.canStream&&!S)try{let r=await m.Rk.stream(e),s=new Blob([r.data],{type:"audio/mpeg"}),l=URL.createObjectURL(s);L(l),a=l,t=!0,u.oR.success("Streaming audio from Eleven Labs")}catch(e){if(console.error("Streaming failed, falling back to local file:",e),!r){u.oR.error("No audio available for playback");return}u.oR.info("Streaming unavailable, using local file")}if(!a){u.oR.error("No audio source available");return}z.current.src!==a&&(z.current.src=a),await z.current.play(),x(!0),f?.(!0);try{await m.Rk.trackUsage(e,{usedIn:"manual_call",entityType:"recording_player",entityId:0,playDuration:0,userAction:t?"stream_play":"local_play"})}catch(e){console.warn("Failed to track usage:",e)}}catch(e){console.error("Playback failed:",e),u.oR.error("Failed to play audio")}finally{g(!1)}},U=e=>{let a=Math.floor(e/60),r=Math.floor(e%60);return`${a}:${r.toString().padStart(2,"0")}`},M=async()=>{try{let t=r;if(S)t=S;else if(h?.canStream){let a=await m.Rk.stream(e),r=new Blob([a.data],{type:"audio/mpeg"});t=URL.createObjectURL(r)}if(t){let e=document.createElement("a");e.href=t,e.download=`${a}.mp3`,document.body.appendChild(e),e.click(),document.body.removeChild(e)}else u.oR.error("No audio available for download")}catch(e){console.error("Download failed:",e),u.oR.error("Failed to download audio")}},q=h?.isAvailable||h?.canStream;return(0,t.jsxs)("div",{className:"flex items-center space-x-2 p-2 border rounded-lg bg-gray-50",children:[(0,t.jsx)("audio",{ref:z,preload:"none"}),(0,t.jsx)(l.$,{variant:"outline",size:"sm",onClick:p?()=>{z.current&&(z.current.pause(),x(!1),f?.(!1))}:F,disabled:!q||y,children:y?(0,t.jsx)("div",{className:"w-4 h-4 animate-spin rounded-full border-2 border-gray-300 border-t-gray-600"}):p?(0,t.jsx)(d.A,{className:"w-4 h-4"}):(0,t.jsx)(i.A,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"flex-1 flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 min-w-[35px]",children:U(w)}),(0,t.jsx)("input",{type:"range",min:"0",max:v||0,value:w,onChange:e=>{let a=z.current;if(a){let r=parseFloat(e.target.value);a.currentTime=r,N(r)}},className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer",disabled:!v}),(0,t.jsx)("span",{className:"text-xs text-gray-500 min-w-[35px]",children:U(v)})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{z.current&&(A?(z.current.volume=k,C(!1)):(z.current.volume=0,C(!0)))},className:"p-1",children:A?(0,t.jsx)(n,{className:"w-4 h-4"}):(0,t.jsx)(o.A,{className:"w-4 h-4"})}),(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:A?0:k,onChange:e=>{let a=parseFloat(e.target.value);R(a),z.current&&(z.current.volume=a),C(0===a)},className:"w-16 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),(0,t.jsx)(l.$,{variant:"outline",size:"sm",onClick:M,disabled:!q,children:(0,t.jsx)(c.A,{className:"w-4 h-4"})}),h&&(0,t.jsxs)("div",{className:"text-xs text-gray-500 ml-2",children:[h.canStream&&(0,t.jsx)("span",{className:"bg-green-100 text-green-800 px-1 rounded mr-1",children:"Stream"}),h.hasLocalFile&&(0,t.jsx)("span",{className:"bg-blue-100 text-blue-800 px-1 rounded mr-1",children:"Local"}),h.characterCount>0&&(0,t.jsxs)("span",{children:[h.characterCount," chars"]})]})]})}}};