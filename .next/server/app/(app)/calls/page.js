(()=>{var e={};e.id=5925,e.ids=[5925],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4339:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},6475:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Applications/Knittt-Lite-v2/app/(app)/calls/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Applications/Knittt-Lite-v2/app/(app)/calls/page.tsx","default")},6945:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>p,tree:()=>c});var s=a(70260),l=a(28203),r=a(25155),i=a.n(r),n=a(67292),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let c={children:["",{children:["(app)",{children:["calls",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6475)),"/Applications/Knittt-Lite-v2/app/(app)/calls/page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,19611)),"/Applications/Knittt-Lite-v2/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["/Applications/Knittt-Lite-v2/app/(app)/calls/page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/(app)/calls/page",pathname:"/calls",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7702:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var s=a(82281),l=a(94805);function r(...e){return(0,l.QP)((0,s.$)(e))}},8818:(e,t,a)=>{"use strict";a.d(t,{AC:()=>h,BL:()=>d,ES:()=>r,OK:()=>x,RM:()=>p,U$:()=>f,YE:()=>y,aN:()=>j,ac:()=>l,cV:()=>b,g5:()=>u,gA:()=>i,ht:()=>c,mJ:()=>m,q6:()=>o,tq:()=>g,v:()=>v,xx:()=>n});var s=a(66581);let l=async()=>(await s.Ay.get("/dialplan/projects")).data,r=async e=>(await s.Ay.get(`/dialplan/projects/${e}`)).data,i=async e=>(await s.Ay.post("/dialplan/projects",e)).data,n=async e=>(await s.Ay.delete(`/dialplan/projects/${e}`)).data,d=async(e,t)=>(await s.Ay.post(`/dialplan/projects/${e}/clone`,{newName:t})).data,c=async e=>(await s.Ay.get(`/dialplan/projects/${e}/contexts`)).data,o=async(e,t)=>(await s.Ay.post(`/dialplan/projects/${e}/contexts`,t)).data,m=async e=>(await s.Ay.get(`/dialplan/contexts/${e}/nodes`)).data,p=async(e,t)=>{try{console.log("Creating node with data:",{contextId:e,data:t});let a=await s.Ay.post(`/dialplan/contexts/${e}/nodes`,t);return console.log("Node creation successful:",a.data),a.data}catch(e){throw console.error("Node creation failed:",e.response?.data||e.message||e),e}},x=async(e,t)=>(await s.Ay.put(`/dialplan/nodes/${e}`,t)).data,h=async e=>{try{if(console.log("Deleting node with ID:",e),!e||isNaN(e))throw Error("Invalid node ID");try{let t=await s.Ay.delete(`/dialplan/nodes/${e}`);return console.log("Node deletion successful:",t.data),t.data}catch(t){if(t.response?.status===404){console.warn("Standard delete endpoint not found, trying alternate endpoint...");let t=await s.Ay.post("/dialplan/nodes/delete",{id:e});return console.log("Node deletion successful with fallback:",t.data),t.data}throw t}}catch(a){a.response?console.error("Node deletion failed with response:",{status:a.response.status,data:a.response.data,headers:a.response.headers}):a.request?console.error("Node deletion failed - no response received:",a.request):console.error("Node deletion failed - error setting up request:",a.message);let e="Failed to delete node";a.response?.status===404?e="The node delete endpoint was not found on the server. The API may not be fully implemented.":a.message&&(e=a.message);let t=Error(e);throw t.cause=a,t}},u=async()=>(await s.Ay.get("/dialplan/node-types")).data,y=async e=>(await s.Ay.get(`/dialplan/contexts/${e}/connections`)).data,g=async e=>{try{console.log("Creating connection with data:",e);let t=await s.Ay.post("/dialplan/connections",e);return console.log("Connection creation successful:",t.data),t.data}catch(e){throw console.error("Connection creation failed:",e.response?.data||e.message||e),e}},j=async e=>{try{if(console.log("Deleting connection with ID:",e),!e||isNaN(e))throw Error("Invalid connection ID");try{let t=await s.Ay.delete(`/dialplan/connections/${e}`);return console.log("Connection deletion successful:",t.data),t.data}catch(t){if(t.response?.status===404){console.warn("Standard connection delete endpoint not found, trying alternate endpoint...");let t=await s.Ay.post("/dialplan/connections/delete",{id:e});return console.log("Connection deletion successful with fallback:",t.data),t.data}throw t}}catch(a){a.response?console.error("Connection deletion failed with response:",{status:a.response.status,data:a.response.data}):a.request?console.error("Connection deletion failed - no response received:",a.request):console.error("Connection deletion failed - error setting up request:",a.message);let e="Failed to delete connection";a.response?.status===404?e="The connection delete endpoint was not found on the server. The API may not be fully implemented.":a.message&&(e=a.message);let t=Error(e);throw t.cause=a,t}},f=async e=>{try{return(await s.Ay.post(`/dialplan/projects/${e}/validate`)).data}catch(e){return console.warn("Validate project endpoint may not be implemented yet"),{valid:!0,errors:[],warnings:[],timestamp:new Date().toISOString()}}},v=async e=>{try{return(await s.Ay.post(`/dialplan/projects/${e}/generate`)).data}catch(e){return console.warn("Generate dialplan endpoint may not be implemented yet"),{dialplan:"[default]\nexten => s,1,NoOp(Demo Dialplan)\nexten => s,n,Hangup()",project:"Demo Project",contexts:1,timestamp:new Date().toISOString()}}},b=async()=>(await s.Ay.get("/system/dialplan-capabilities")).data},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},18741:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19455:(e,t,a)=>{Promise.resolve().then(a.bind(a,6475))},19904:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},21820:e=>{"use strict";e.exports=require("os")},21956:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33680:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},33873:e=>{"use strict";e.exports=require("path")},34705:(e,t,a)=>{"use strict";a.d(t,{J:()=>d});var s=a(45512),l=a(58009),r=a(30830),i=l.forwardRef((e,t)=>(0,s.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var n=a(89808);let d=l.forwardRef(({className:e,...t},a)=>(0,s.jsx)(i,{ref:a,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));d.displayName=i.displayName},39460:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("phone-forwarded",[["polyline",{points:"18 2 22 6 18 10",key:"6vjanh"}],["line",{x1:"14",x2:"22",y1:"6",y2:"6",key:"1jsywh"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},45506:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(41680).A)("phone-call",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]])},46467:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>P});var s=a(45512),l=a(58009),r=a(79334),i=a(6868),n=a(22403),d=a(45506),c=a(41680);let o=(0,c.A)("phone-incoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var m=a(39460),p=a(94209);let x=(0,c.A)("phone-off",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]),h=(0,c.A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var u=a(94520),y=a(18741),g=a(21956),j=a(19904),f=a(4339),v=a(33680),b=a(13868),N=a(49169),w=a(43517),A=a(83083),C=a(75749),k=a(34705),S=a(67679),$=a(92666),D=a(8818);function P(){let e=(0,r.useRouter)(),{isAuthenticated:t}=(0,$.n)(),[a,c]=(0,l.useState)(!1),[P,q]=(0,l.useState)([]),[T,z]=(0,l.useState)(null),[M,E]=(0,l.useState)("call-list"),[L,F]=(0,l.useState)([]),[R,J]=(0,l.useState)(1),[I,U]=(0,l.useState)(1),[_,G]=(0,l.useState)(null),[V,B]=(0,l.useState)(!1),[O,K]=(0,l.useState)(!1),[H,Y]=(0,l.useState)(""),[Q]=(0,l.useState)(10),[W,X]=(0,l.useState)([]),[Z,ee]=(0,l.useState)("templates"),[et,ea]=(0,l.useState)([]),[es,el]=(0,l.useState)([]),[er,ei]=(0,l.useState)(null),[en,ed]=(0,l.useState)(!1),[ec,eo]=(0,l.useState)(!1),[em,ep]=(0,l.useState)(!1),[ex,eh]=(0,l.useState)(null),[eu,ey]=(0,l.useState)(null),[eg,ej]=(0,l.useState)(""),[ef,ev]=(0,l.useState)(!1),[eb,eN]=(0,l.useState)({name:"",description:"",type:"script",content:""}),[ew,eA]=(0,l.useState)({name:"",description:""}),{register:eC,handleSubmit:ek,setValue:eS,formState:{errors:e$}}=(0,i.mN)(),eD=async()=>{c(!0);try{let e=await S.Ay.calls.list({page:I,limit:Q,...H?{status:H}:{}});if(F(e.data.data),J(e.data.totalPages),!H){let t=Array.from(new Set(e.data.data.map(e=>e.status)));X(t)}}catch(e){console.error("Error fetching calls:",e),n.Ay.error("Failed to load calls")}finally{c(!1)}},eP=async()=>{try{let e=await S.Ay.templates.list({type:"script",isActive:!0,limit:100}),t=await S.Ay.templates.list({type:"voicemail",isActive:!0,limit:100}),a=e.data?.templates||[],s=t.data?.templates||[],l=[...a.map(e=>({...e,type:"script"})),...s.map(e=>({...e,type:"voicemail"}))];ea(l)}catch(e){throw console.error("Error loading call templates:",e),e}},eq=async()=>{try{let e=await (0,D.ac)();el(Array.isArray(e)?e:[])}catch(e){console.error("Error loading dialplan projects:",e),el([])}},eT=async e=>{B(!0);try{let t=await S.Ay.calls.get(e.toString());G(t.data.data)}catch(e){console.error("Error fetching call details:",e),n.Ay.error("Failed to load call details")}finally{B(!1)}},ez=async(e,t)=>{K(!0);try{await S.Ay.calls.updateStatus(e.toString(),t),n.Ay.success(`Call status updated to ${t}`),_&&_.id===e.toString()&&G({..._,status:t}),eD()}catch(e){console.error("Error updating call status:",e),n.Ay.error(e.response?.data?.error||"Failed to update call status")}finally{K(!1)}},eM=async e=>{c(!0);try{let t={to:e.to,from:e.from,message:e.message},a=await S.Ay.calls.make(t);z(Number(a.data.data.id)),n.Ay.success("Call initiated successfully"),eD()}catch(e){console.error("Call error:",e),n.Ay.error(e.response?.data?.error||"Failed to make call")}finally{c(!1)}},eE=e=>new Date(e).toLocaleString(),eL=e=>{if(!e)return"0:00";let t=Math.floor(e/60);return`${t}:${(e%60).toString().padStart(2,"0")}`},eF=e=>{switch(e){case"initiated":return(0,s.jsx)(d.A,{className:"w-5 h-5 text-blue-500"});case"answered":return(0,s.jsx)(o,{className:"w-5 h-5 text-green-500"});case"transferred":return(0,s.jsx)(m.A,{className:"w-5 h-5 text-yellow-500"});case"completed":return(0,s.jsx)(p.A,{className:"w-5 h-5 text-green-600"});case"failed":return(0,s.jsx)(x,{className:"w-5 h-5 text-red-500"});default:return(0,s.jsx)(p.A,{className:"w-5 h-5 text-gray-500"})}},eR=async()=>{if(!eb.name||!eb.content){n.Ay.error("Please fill in all required fields");return}ed(!0);try{await S.Ay.templates.create({name:eb.name,description:eb.description,type:eb.type,categoryId:1,content:eb.content,isActive:!0}),n.Ay.success("Template created successfully"),eo(!1),eN({name:"",description:"",type:"script",content:""}),await eP()}catch(e){console.error("Error creating template:",e),n.Ay.error("Failed to create template")}finally{ed(!1)}},eJ=async()=>{if(!ew.name){n.Ay.error("Please enter a project name");return}ed(!0);try{await (0,D.gA)({name:ew.name,description:ew.description}),n.Ay.success("Dialplan project created successfully"),ep(!1),eA({name:"",description:""}),await eq()}catch(e){console.error("Error creating project:",e),n.Ay.error("Failed to create dialplan project")}finally{ed(!1)}},eI=async e=>{try{let t=await S.Ay.templates.renderPreview(e.id.toString(),{variables:{firstName:"John",lastName:"Doe",company:"Example Company",phone:"+1234567890"}});ej(t.data?.data.content||e.content),eh(e),ev(!0)}catch(t){console.error("Error previewing template:",t),ej(e.content),eh(e),ev(!0)}},eU=async e=>{ed(!0);try{let t=await (0,D.v)(e.id);n.Ay.success("Dialplan generated successfully"),console.log("Generated dialplan:",t);let a=new Blob([t.dialplan||"No dialplan content"],{type:"text/plain"}),s=URL.createObjectURL(a),l=document.createElement("a");l.href=s,l.download=`${e.name}-dialplan.conf`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s)}catch(e){console.error("Error generating dialplan:",e),n.Ay.error("Failed to generate dialplan")}finally{ed(!1)}},e_=e=>{e>=1&&e<=R&&U(e)};return t?(0,s.jsxs)(b.A,{children:[(0,s.jsxs)("div",{className:"py-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Call Management"}),(0,s.jsxs)("div",{className:"space-x-2",children:[(0,s.jsxs)(w.$,{type:"button",variant:"call-list"===M?"default":"secondary",onClick:()=>E("call-list"),children:[(0,s.jsx)(h,{className:"w-4 h-4 mr-2"}),"Call List"]}),(0,s.jsxs)(w.$,{type:"button",variant:"make-call"===M?"default":"secondary",onClick:()=>E("make-call"),children:[(0,s.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Make Call"]}),(0,s.jsxs)(w.$,{type:"button",variant:"dialplan"===M?"default":"secondary",onClick:()=>E("dialplan"),children:[(0,s.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Dialplan"]})]})]}),"make-call"===M?(0,s.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,s.jsxs)("form",{onSubmit:ek(eM),className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(k.J,{htmlFor:"to",children:"To Number"}),(0,s.jsx)(N.p,{id:"to",name:"to",type:"tel",placeholder:"+1234567890",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(k.J,{htmlFor:"from",children:"From Number"}),(0,s.jsx)(N.p,{id:"from",name:"from",type:"tel",placeholder:"+1234567890",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(k.J,{htmlFor:"message",children:"Message (Optional)"}),(0,s.jsx)(A.T,{id:"message",name:"message",placeholder:"Enter a message to be read to the recipient"})]}),(0,s.jsx)("div",{children:(0,s.jsx)(w.$,{type:"submit",disabled:a,className:"w-full",children:a?"Initiating Call...":"Make Call"})})]})}):"call-list"===M?(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"p-4 border-b",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Call List"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("select",{value:H,onChange:e=>Y(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"",children:"All Statuses"}),W.map(e=>(0,s.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),(0,s.jsx)(w.$,{type:"button",onClick:eD,disabled:a,children:"Refresh"})]})]})}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Time"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[eF(e.status),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.from}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.to}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:eE(e.createdAt)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:eL(e.duration??0)}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,s.jsx)(w.$,{type:"button",onClick:()=>eT(Number(e.id)),disabled:V,children:"Details"})})]},e.id))})]})}),_&&(0,s.jsxs)("div",{className:"p-4 border-t",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Call Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:_.status.charAt(0).toUpperCase()+_.status.slice(1)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Duration"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:eL(_.duration??0)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"From"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:_.from})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"To"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:_.to})]}),_.transfer_number&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Transfer Number"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:_.transfer_number})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Start Time"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:eE(_.createdAt)})]}),_.updatedAt&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"End Time"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:eE(_.updatedAt)})]})]}),"completed"!==_.status&&"failed"!==_.status&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(w.$,{type:"button",onClick:()=>ez(Number(_.id),"completed"),disabled:O,children:"Mark as Completed"})})]}),(0,s.jsx)("div",{className:"px-4 py-3 border-t",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing page ",I," of ",R]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(w.$,{type:"button",onClick:()=>e_(I-1),disabled:1===I,children:"Previous"}),(0,s.jsx)(w.$,{type:"button",onClick:()=>e_(I+1),disabled:I===R,children:"Next"})]})]})})]}):(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,s.jsx)("div",{className:"p-4 border-b",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Dialplan"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(w.$,{type:"button",variant:"templates"===Z?"default":"secondary",size:"sm",onClick:()=>ee("templates"),children:"Call Templates"}),(0,s.jsx)(w.$,{type:"button",variant:"projects"===Z?"default":"secondary",size:"sm",onClick:()=>ee("projects"),children:"Dialplan Projects"}),(0,s.jsx)(w.$,{type:"button",variant:"capabilities"===Z?"default":"secondary",size:"sm",onClick:()=>ee("capabilities"),children:"Capabilities"})]})]})}),(0,s.jsx)("div",{className:"p-6",children:en?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("div",{className:"text-gray-500",children:"Loading dialplan data..."})}):"templates"===Z?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Call Templates"}),(0,s.jsxs)(w.$,{onClick:()=>eo(!0),className:"flex items-center gap-2",children:[(0,s.jsx)(y.A,{className:"h-4 w-4"}),"Create Template"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:et.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${"script"===e.type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:e.type})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.updatedAt).toLocaleDateString()}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(w.$,{size:"sm",variant:"outline",onClick:()=>eI(e),children:(0,s.jsx)(g.A,{className:"h-3 w-3"})}),(0,s.jsx)(w.$,{size:"sm",variant:"outline",onClick:()=>{eh(e),eN({name:e.name,description:e.description,type:e.type,content:e.content}),eo(!0)},children:(0,s.jsx)(j.A,{className:"h-3 w-3"})})]})]})]},e.id))}),0===et.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(p.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No call templates"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new call template."}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)(w.$,{onClick:()=>eo(!0),children:[(0,s.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Create Template"]})})]})]}):"projects"===Z?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Dialplan Projects"}),(0,s.jsxs)(w.$,{onClick:()=>ep(!0),className:"flex items-center gap-2",children:[(0,s.jsx)(y.A,{className:"h-4 w-4"}),"Create Project"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:es.map(t=>(0,s.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:t.name}),(0,s.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:t.isActive?"Active":"Inactive"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:t.description}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-xs text-gray-500",children:t.lastDeployed?`Deployed: ${new Date(t.lastDeployed).toLocaleDateString()}`:"Never deployed"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(w.$,{size:"sm",variant:"outline",onClick:()=>eU(t),disabled:en,children:(0,s.jsx)(f.A,{className:"h-3 w-3"})}),(0,s.jsx)(w.$,{size:"sm",variant:"outline",onClick:()=>e.push(`/dialplan/${t.id}`),children:(0,s.jsx)(j.A,{className:"h-3 w-3"})})]})]})]},t.id))}),0===es.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(u.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No dialplan projects"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create a dialplan project to manage call flows."}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)(w.$,{onClick:()=>ep(!0),children:[(0,s.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Create Project"]})})]})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Dialplan Capabilities"}),er?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"System Status"}),(0,s.jsx)("p",{className:"text-sm text-blue-700",children:er.message})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsx)("div",{className:"bg-white border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Node Types"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:er.capabilities.nodeTypes})]}),(0,s.jsx)(u.A,{className:"h-8 w-8 text-blue-500"})]})}),(0,s.jsx)("div",{className:"bg-white border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Generator"}),(0,s.jsx)("p",{className:`text-sm font-medium ${er.capabilities.generator?"text-green-600":"text-red-600"}`,children:er.capabilities.generator?"Available":"Unavailable"})]}),(0,s.jsx)(f.A,{className:`h-8 w-8 ${er.capabilities.generator?"text-green-500":"text-red-500"}`})]})}),(0,s.jsx)("div",{className:"bg-white border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Validator"}),(0,s.jsx)("p",{className:`text-sm font-medium ${er.capabilities.validator?"text-green-600":"text-red-600"}`,children:er.capabilities.validator?"Available":"Unavailable"})]}),(0,s.jsx)(g.A,{className:`h-8 w-8 ${er.capabilities.validator?"text-green-500":"text-red-500"}`})]})}),(0,s.jsx)("div",{className:"bg-white border rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Deployment"}),(0,s.jsx)("p",{className:`text-sm font-medium ${er.capabilities.deployment?"text-green-600":"text-red-600"}`,children:er.capabilities.deployment?"Available":"Unavailable"})]}),(0,s.jsx)(v.A,{className:`h-8 w-8 ${er.capabilities.deployment?"text-green-500":"text-red-500"}`})]})})]}),(0,s.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-4",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Integration with Journey Builder"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Call templates created here can be used in the Journey Builder for automated call campaigns. Script templates provide agent guidance, while voicemail templates handle automated messages."}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(w.$,{size:"sm",variant:"outline",onClick:()=>e.push("/journeys"),children:"Go to Journey Builder"}),(0,s.jsx)(w.$,{size:"sm",variant:"outline",onClick:()=>e.push("/dialplan"),children:"Advanced Dialplan Builder"})]})]})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(u.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Loading capabilities..."}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Checking dialplan system status."})]})]})})]})]}),ec&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:ex?"Edit Template":"Create Call Template"}),(0,s.jsx)(w.$,{variant:"outline",size:"sm",onClick:()=>{eo(!1),eh(null),eN({name:"",description:"",type:"script",content:""})},children:"Cancel"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(k.J,{htmlFor:"template-name",children:"Template Name"}),(0,s.jsx)(N.p,{id:"template-name",value:eb.name,onChange:e=>eN({...eb,name:e.target.value}),placeholder:"Enter template name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(k.J,{htmlFor:"template-description",children:"Description"}),(0,s.jsx)(N.p,{id:"template-description",value:eb.description,onChange:e=>eN({...eb,description:e.target.value}),placeholder:"Enter template description"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(k.J,{htmlFor:"template-type",children:"Template Type"}),(0,s.jsxs)(C.l6,{value:eb.type,onValueChange:e=>eN({...eb,type:e}),children:[(0,s.jsx)(C.bq,{id:"template-type",children:(0,s.jsx)(C.yv,{placeholder:"Select template type"})}),(0,s.jsxs)(C.gC,{children:[(0,s.jsx)(C.eb,{value:"script",children:"Call Script"}),(0,s.jsx)(C.eb,{value:"voicemail",children:"Voicemail Message"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(k.J,{htmlFor:"template-content",children:"Template Content"}),(0,s.jsx)(A.T,{id:"template-content",value:eb.content,onChange:e=>eN({...eb,content:e.target.value}),placeholder:"script"===eb.type?"Enter call script content. Use {{firstName}}, {{lastName}}, {{company}} for variables...":"Enter voicemail message. Use {{firstName}}, {{lastName}}, {{company}} for variables...",rows:8,className:"font-mono text-sm"})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Available Variables"}),(0,s.jsx)("p",{className:"text-xs text-blue-700",children:"{{firstName}}, {{lastName}}, {{email}}, {{phone}}, {{company}}, {{leadId}}"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2 p-4 border-t",children:[(0,s.jsx)(w.$,{variant:"outline",onClick:()=>{eo(!1),eh(null),eN({name:"",description:"",type:"script",content:""})},children:"Cancel"}),(0,s.jsx)(w.$,{onClick:eR,disabled:en,children:en?"Saving...":ex?"Update Template":"Create Template"})]})]})}),em&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Create Dialplan Project"}),(0,s.jsx)(w.$,{variant:"outline",size:"sm",onClick:()=>{ep(!1),eA({name:"",description:""})},children:"Cancel"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(k.J,{htmlFor:"project-name",children:"Project Name"}),(0,s.jsx)(N.p,{id:"project-name",value:ew.name,onChange:e=>eA({...ew,name:e.target.value}),placeholder:"Enter project name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(k.J,{htmlFor:"project-description",children:"Description"}),(0,s.jsx)(A.T,{id:"project-description",value:ew.description,onChange:e=>eA({...ew,description:e.target.value}),placeholder:"Enter project description",rows:3})]}),(0,s.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-3",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"About Dialplan Projects"}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Dialplan projects allow you to create complex call flows using a visual node-based editor. You can define call routing, IVR menus, and automated responses."})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2 p-4 border-t",children:[(0,s.jsx)(w.$,{variant:"outline",onClick:()=>{ep(!1),eA({name:"",description:""})},children:"Cancel"}),(0,s.jsx)(w.$,{onClick:eJ,disabled:en,children:en?"Creating...":"Create Project"})]})]})}),ef&&ex&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Template Preview: ",ex.name]}),(0,s.jsx)(w.$,{variant:"outline",size:"sm",onClick:()=>{ev(!1),eh(null),ej("")},children:"Close"})]}),(0,s.jsxs)("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-120px)]",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Template Info"}),(0,s.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-3 space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Type:"}),(0,s.jsx)("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${"script"===ex.type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:ex.type})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Description:"}),(0,s.jsx)("p",{className:"text-xs text-gray-700 mt-1",children:ex.description})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Last Updated:"}),(0,s.jsx)("p",{className:"text-xs text-gray-700 mt-1",children:new Date(ex.updatedAt).toLocaleString()})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Sample Variables"}),(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"text-xs space-y-1",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"firstName:"})," John"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"lastName:"})," Doe"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"company:"})," Example Company"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"phone:"})," +1234567890"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"email:"})," john.doe@example.com"]})]})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Rendered Preview"}),(0,s.jsx)("div",{className:"bg-white border rounded-lg p-4 min-h-[200px]",children:(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-sm text-gray-800 font-mono leading-relaxed",children:eg})})]}),(0,s.jsxs)("div",{className:"bg-gray-50 border rounded-lg p-3",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Usage in Journey Builder"}),(0,s.jsxs)("p",{className:"text-xs text-gray-600",children:["This template can be selected in the Journey Builder when configuring call actions.","script"===ex.type?" Script templates provide guidance for agents during calls.":" Voicemail templates are used for automated voicemail messages."]})]})]})]})})]}):null}},49169:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(45512),l=a(58009),r=a(7702);let i=l.forwardRef(({className:e,type:t,label:a,error:l,...i},n)=>(0,s.jsxs)("div",{className:"w-full",children:[a&&(0,s.jsx)("label",{htmlFor:i.id,className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,s.jsx)("input",{type:t,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l?"border-red-500 focus-visible:ring-red-500":"",e),ref:n,...i}),l&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l})]}));i.displayName="Input"},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},75749:(e,t,a)=>{"use strict";a.d(t,{bq:()=>p,eb:()=>y,gC:()=>u,l6:()=>o,yv:()=>m});var s=a(45512),l=a(58009),r=a(81477),i=a(98755),n=a(28638),d=a(24849),c=a(7702);let o=r.bL;r.YJ;let m=r.WT,p=l.forwardRef(({className:e,children:t,...a},l)=>(0,s.jsxs)(r.l9,{ref:l,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=r.l9.displayName;let x=l.forwardRef(({className:e,...t},a)=>(0,s.jsx)(r.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})}));x.displayName=r.PP.displayName;let h=l.forwardRef(({className:e,...t},a)=>(0,s.jsx)(r.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})}));h.displayName=r.wn.displayName;let u=l.forwardRef(({className:e,children:t,position:a="popper",...l},i)=>(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{ref:i,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-800 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...l,children:[(0,s.jsx)(x,{}),(0,s.jsx)(r.LM,{className:(0,c.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,s.jsx)(h,{})]})}));u.displayName=r.UC.displayName,l.forwardRef(({className:e,...t},a)=>(0,s.jsx)(r.JU,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=r.JU.displayName;let y=l.forwardRef(({className:e,children:t,...a},l)=>(0,s.jsxs)(r.q7,{ref:l,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-gray-50 focus:bg-gray-100 focus:text-gray-900 data-[state=checked]:bg-gray-100 data-[state=checked]:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})}),(0,s.jsx)(r.p4,{children:t})]}));y.displayName=r.q7.displayName,l.forwardRef(({className:e,...t},a)=>(0,s.jsx)(r.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-gray-200",e),...t})).displayName=r.wv.displayName},79551:e=>{"use strict";e.exports=require("url")},79703:(e,t,a)=>{Promise.resolve().then(a.bind(a,46467))},81630:e=>{"use strict";e.exports=require("http")},83083:(e,t,a)=>{"use strict";a.d(t,{T:()=>i});var s=a(45512),l=a(58009),r=a(89808);let i=l.forwardRef(({className:e,...t},a)=>(0,s.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));i.displayName="Textarea"},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,1057,4052,5668,7519,6572,9388,1109,4451,3715,6868,931,3868,9110],()=>a(6945));module.exports=s})();